<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Nh·∫≠t k√Ω Giai ƒêi·ªáu Tu·ªïi H·ªìng & H√πng V∆∞∆°ng Nh·ªØng M√πa Nh·ªõ - L·ªõp 11L - M·ªëc k·ª∑ ni·ªám s·ªë 4">
<title>Giai ƒêi·ªáu Tu·ªïi H·ªìng ¬∑ D·∫•u ·∫§n Kh√≥ Qu√™n ¬∑ L·ªõp 11L</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;1,400&family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&family=Dancing+Script:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* ‚ïê‚ïê‚ïê PALETTE ‚Äî t√≠m lavender pha x√°m m·ªông m∆° ‚ïê‚ïê‚ïê */
:root {
  --v9:#16102a; --v8:#1e1638; --v7:#2a1f4e; --v6:#3d2d6e; --v5:#5b4494;
  --v4:#7c63b8; --v3:#a48fd4; --v2:#cbbfea; --v1:#e4def7; --v0:#f4f1fb;
  --lav-deep:#2a1f4e; --lav-mid:#7c63b8; --lav-light:#a48fd4;
  --lav-pale:#ddd6f7; --lav-blush:#f4f1fb;
  --gold:#c9a961; --gold-pale:#e0c478;
  --ink-dark:#1e1535; --ink-mid:#3d2d6e; --cream:#f8f5ff;
  --sh-d:rgba(22,10,60,.55); --sh-m:rgba(22,10,60,.28); --sh-s:rgba(22,10,60,.12);
  --glow-v:rgba(124,99,184,.38); --glow-s:rgba(164,143,212,.22);
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;overflow-x:hidden;}
body{
  cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><circle cx="10" cy="10" r="8" fill="%237c63b8" opacity="0.35"/></svg>') 10 10,auto;
  font-family:'Lora',serif;
  background:
    radial-gradient(ellipse at 50% -5%,  rgba(124,99,184,.22),transparent 52%),
    radial-gradient(ellipse at 88% 65%,  rgba(91,68,148,.14), transparent 46%),
    radial-gradient(ellipse at 10% 88%,  rgba(164,143,212,.12),transparent 48%),
    linear-gradient(175deg,
      #d0c8e8 0%,#c8c0e4 14%,#bdb6de 30%,#b8b0da 48%,
      #c2bae2 64%,#ccc5e8 80%,#d8d2ee 100%);
  min-height:100vh;
  display:flex;flex-direction:column;align-items:center;
  padding:40px 20px;position:relative;overflow-x:hidden;
}

/* fine grain texture */
body::before{
  content:'';position:fixed;inset:0;pointer-events:none;z-index:0;
  background-image:
    url("data:image/svg+xml,%3Csvg viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.72' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.042'/%3E%3C/svg%3E"),
    repeating-linear-gradient(0deg,transparent,transparent 28px,rgba(124,99,184,.02) 28px,rgba(124,99,184,.02) 29px),
    repeating-linear-gradient(90deg,transparent,transparent 28px,rgba(124,99,184,.016) 28px,rgba(124,99,184,.016) 29px);
  background-size:180px 180px,auto,auto;
  animation:grainShift 20s ease-in-out infinite;
}
@keyframes grainShift{0%,100%{opacity:.9;}50%{opacity:.6;}}

/* ambient wave glow ‚Äî very slow */
body::after{
  content:'';position:fixed;inset:0;pointer-events:none;z-index:1;
  background:
    radial-gradient(ellipse 90% 45% at 50% 108%,rgba(124,99,184,.12),transparent),
    radial-gradient(ellipse 65% 35% at 18% 78%, rgba(164,143,212,.09),transparent),
    radial-gradient(ellipse 55% 28% at 82% 18%, rgba(91,68,148,.08),transparent);
  animation:ambientWave 14s ease-in-out infinite;
}
@keyframes ambientWave{
  0%,100%{transform:scaleY(1) translateY(0);opacity:.82;}
  40%{transform:scaleY(1.05) translateY(-7px);opacity:1;}
  70%{transform:scaleY(.96) translateY(5px);opacity:.72;}
}

.vignette{position:fixed;inset:0;pointer-events:none;z-index:0;box-shadow:inset 0 0 140px rgba(18,8,45,.2);}

/* star field */
.star-field{position:fixed;inset:0;pointer-events:none;z-index:1;overflow:hidden;}
.star{position:absolute;border-radius:50%;background:radial-gradient(circle,rgba(228,222,247,.92),transparent 70%);animation:starTwinkle var(--sd) var(--ss) ease-in-out infinite;will-change:opacity,transform;}
@keyframes starTwinkle{0%,100%{opacity:0;transform:scale(1);}40%{opacity:.75;transform:scale(1.4);}60%{opacity:.5;transform:scale(1.1);}}

/* cursor trail */
.cursor-trail{position:fixed;width:6px;height:6px;border-radius:50%;background:radial-gradient(circle,rgba(164,143,212,.65),rgba(124,99,184,.2));pointer-events:none;z-index:9999;animation:trailFade .6s cubic-bezier(.4,0,.2,1) forwards;box-shadow:0 0 8px rgba(124,99,184,.42);transform:translate(-50%,-50%);}
@keyframes trailFade{to{opacity:0;transform:translate(-50%,-50%) scale(.15);}}

/* progress bar */
.progress-bar-container{position:fixed;top:0;left:0;right:0;height:3px;background:rgba(124,99,184,.08);z-index:10000;opacity:0;transition:opacity .2s;}
.progress-bar-container.active{opacity:1;}
.progress-bar{height:100%;background:linear-gradient(90deg,var(--v7),var(--v5),var(--v3));width:0%;transition:width .3s cubic-bezier(.4,0,.2,1);box-shadow:0 0 10px var(--glow-v);}

/* home btn */
.home-btn{position:fixed;top:20px;left:20px;display:flex;align-items:center;gap:6px;padding:8px 16px;background:rgba(248,245,255,.9);backdrop-filter:blur(14px);border:1.5px solid rgba(124,99,184,.28);border-radius:30px;font-family:'Playfair Display',serif;font-size:.82rem;color:var(--lav-deep);cursor:pointer;z-index:9999;text-decoration:none;box-shadow:0 4px 16px var(--sh-s);transition:background .18s,border-color .18s,transform .18s,box-shadow .18s;}
.home-btn:hover{background:rgba(124,99,184,.14);border-color:rgba(124,99,184,.52);transform:translateY(-2px);box-shadow:0 8px 24px var(--sh-m);}

/* breadcrumb */
.breadcrumb{position:fixed;top:20px;left:50%;transform:translateX(-50%);background:rgba(248,245,255,.9);backdrop-filter:blur(14px);padding:7px 22px;border-radius:30px;border:1.5px solid rgba(124,99,184,.22);font-family:'Playfair Display',serif;font-size:.8rem;color:var(--lav-deep);z-index:9998;opacity:0;pointer-events:none;transition:opacity .25s;box-shadow:0 4px 14px var(--sh-s);white-space:nowrap;max-width:calc(100vw - 180px);overflow:hidden;text-overflow:ellipsis;}
.breadcrumb.visible{opacity:1;pointer-events:auto;}
.sr-announce{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);}

/* ‚ïê‚ïê‚ïê BOOK CONTAINER ‚ïê‚ïê‚ïê */
.book-container{position:relative;max-width:1200px;width:100%;perspective:2200px;z-index:10;animation:containerIn .9s cubic-bezier(.22,1,.36,1) both;}
@keyframes containerIn{from{opacity:0;transform:translateY(38px) scale(.97);}to{opacity:1;transform:translateY(0) scale(1);}}

/* ‚ïê‚ïê‚ïê COVER ‚ïê‚ïê‚ïê */
.book-cover{
  position:relative;
  background:
    repeating-linear-gradient(50deg,rgba(91,68,148,.08),rgba(91,68,148,.08) 2px,transparent 2px,transparent 7px),
    linear-gradient(148deg,#18112c 0%,#201640 28%,#2a1f4e 55%,#1a1230 78%,#100c22 100%);
  border-radius:10px;padding:72px 62px;
  box-shadow:0 42px 100px var(--sh-d),0 16px 40px var(--sh-m),
    inset 0 0 190px rgba(0,0,0,.48),
    inset 2px 2px 12px rgba(164,143,212,.1),
    inset -2px -2px 12px rgba(0,0,0,.45),
    0 0 90px rgba(91,68,148,.14);
  border:1px solid rgba(164,143,212,.26);
  outline:7px solid rgba(12,6,30,.85);outline-offset:0;
  margin-bottom:40px;
  transform-style:preserve-3d;will-change:transform;
  animation:bookEntrance 1.1s cubic-bezier(.22,1,.36,1) both;
  overflow:visible;
  transition:transform .2s cubic-bezier(.22,1,.36,1),box-shadow .2s;
}
.book-cover::before{content:'';position:absolute;left:-15px;top:5%;bottom:5%;width:26px;background:linear-gradient(90deg,rgba(0,0,0,.7),rgba(25,12,60,.5) 35%,transparent);border-radius:4px 0 0 4px;box-shadow:inset 2px 0 6px rgba(0,0,0,.58);}
.book-cover::after{content:'';position:absolute;inset:22px;border:1.5px solid rgba(164,143,212,.34);border-radius:5px;box-shadow:inset 0 0 75px rgba(124,99,184,.2),0 0 55px rgba(124,99,184,.28),inset 2px 2px 6px rgba(255,255,255,.07),inset -2px -2px 6px rgba(0,0,0,.35);animation:embossGlow 4.2s ease-in-out infinite;pointer-events:none;}
@keyframes embossGlow{0%,100%{opacity:.5;}50%{opacity:1;}}
.book-cover:hover{transform:translateY(-5px) scale(1.009);box-shadow:0 55px 125px var(--sh-d),0 20px 50px var(--sh-m),inset 0 0 190px rgba(0,0,0,.48),0 0 130px rgba(91,68,148,.2);}
.book-cover:active{transform:translateY(-2px) scale(1.003);transition-duration:.08s;}
@keyframes bookEntrance{0%{opacity:0;transform:rotateX(-28deg) translateY(-90px) scale(.86);}55%{opacity:1;transform:rotateX(6deg) translateY(10px) scale(1.03);}75%{transform:rotateX(-2deg) translateY(-4px) scale(1.01);}100%{opacity:1;transform:rotateX(0) translateY(0) scale(1);}}

/* floating notes */
.note-wrap{position:absolute;inset:0;pointer-events:none;z-index:1;overflow:hidden;}
.note{position:absolute;pointer-events:none;animation:noteFloat var(--nd) var(--ns) ease-in-out infinite;opacity:0;font-size:var(--nz);filter:drop-shadow(0 0 5px rgba(164,143,212,.55));}
@keyframes noteFloat{0%{opacity:0;transform:translateY(10px) translateX(0) scale(1) rotate(0deg);}15%{opacity:.65;}80%{opacity:.18;}100%{opacity:0;transform:translateY(-115px) translateX(var(--nx)) scale(.35) rotate(180deg);}}

/* icon glow halo */
.cover-icon-wrap{display:inline-block;position:relative;margin-bottom:28px;}
.cover-icon-wrap::before{content:'';position:absolute;inset:-30px;border-radius:50%;background:radial-gradient(circle,rgba(124,99,184,.44),rgba(91,68,148,.2) 52%,transparent 72%);animation:iconHalo 3.8s ease-in-out infinite;filter:blur(16px);}
@keyframes iconHalo{0%,100%{transform:scale(1);opacity:.65;}50%{transform:scale(1.25);opacity:1;}}
.cover-icon{font-size:7rem;display:inline-block;position:relative;z-index:1;animation:iconFloat2 5.5s ease-in-out infinite,fU .7s cubic-bezier(.22,1,.36,1) .18s both;filter:drop-shadow(0 8px 22px rgba(124,99,184,.8)) drop-shadow(0 0 32px rgba(164,143,212,.5));}
@keyframes iconFloat2{0%,100%{transform:translateY(0);}50%{transform:translateY(-12px);}}

/* bookmark */
.bookmark{position:absolute;top:0;right:12%;width:54px;height:168px;background:linear-gradient(135deg,var(--v6),var(--v4));clip-path:polygon(0 0,100% 0,100% 76%,50% 100%,0 76%);box-shadow:0 12px 32px rgba(91,68,148,.55),inset 0 2px 0 rgba(255,255,255,.3);z-index:3;animation:bookmarkSway 4.5s cubic-bezier(.45,.05,.55,.95) infinite;}
.bookmark::before{content:'üéµ';position:absolute;top:18px;left:50%;transform:translateX(-50%);font-size:1.8rem;animation:leafSpin 8s linear infinite;}
@keyframes bookmarkSway{0%,100%{transform:rotate(0) translateY(0);}50%{transform:rotate(3deg) translateY(-2px);}}
@keyframes leafSpin{from{transform:translateX(-50%) rotate(0);}to{transform:translateX(-50%) rotate(360deg);}}

/* cover typography */
.cover-content{position:relative;z-index:2;text-align:center;color:#ede8f8;}
.cover-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(124,99,184,.18);border:1px solid rgba(164,143,212,.36);backdrop-filter:blur(12px);color:rgba(232,226,247,.92);padding:8px 28px;border-radius:50px;font-size:.82rem;font-family:'Playfair Display',serif;letter-spacing:.18em;margin-bottom:22px;box-shadow:0 0 28px rgba(124,99,184,.3),inset 0 1px 0 rgba(255,255,255,.08);animation:fU .7s cubic-bezier(.22,1,.36,1) .05s both,badgeShimmer 3.2s ease-in-out infinite;}
@keyframes badgeShimmer{0%,100%{opacity:.72;}50%{opacity:1;box-shadow:0 0 40px rgba(164,143,212,.5);}}
.cover-title{font-family:'Playfair Display',serif;font-size:4.2rem;font-weight:800;margin-bottom:16px;letter-spacing:.07em;color:#fff;text-shadow:0 0 40px rgba(124,99,184,.95),0 6px 24px rgba(0,0,0,.88),0 0 95px rgba(164,143,212,.52),2px 2px 0 rgba(0,0,0,.38);animation:titleFloat 5.8s cubic-bezier(.45,.05,.55,.95) infinite,fU .7s cubic-bezier(.22,1,.36,1) .3s both;}
@keyframes titleFloat{0%,100%{transform:translateY(0);}50%{transform:translateY(-7px);}}
.cover-divider{width:0;height:1px;background:linear-gradient(90deg,transparent,rgba(201,169,97,.68),rgba(228,222,247,.45),rgba(201,169,97,.68),transparent);margin:16px auto 20px;animation:dividerDraw 1.5s cubic-bezier(.4,0,.2,1) .5s forwards;}
@keyframes dividerDraw{to{width:220px;}}
.cover-subtitle{font-family:'Dancing Script',cursive;font-size:2.1rem;margin-bottom:34px;opacity:.95;text-shadow:0 4px 16px rgba(0,0,0,.75);animation:fU .7s cubic-bezier(.22,1,.36,1) .44s both;}
.cover-quote{font-size:1.05rem;line-height:1.95;max-width:680px;margin:0 auto 44px;opacity:.9;font-style:italic;font-family:'Lora',serif;text-shadow:0 2px 12px rgba(0,0,0,.55);animation:fU .7s cubic-bezier(.22,1,.36,1) .56s both;}
.open-book-btn{display:inline-block;padding:15px 46px;background:linear-gradient(135deg,rgba(91,68,148,.82),rgba(124,99,184,.72));color:#fff;font-weight:700;font-size:1.05rem;border-radius:50px;box-shadow:0 14px 42px rgba(91,68,148,.62),0 0 50px rgba(91,68,148,.32),inset 0 2px 0 rgba(255,255,255,.35);backdrop-filter:blur(8px);transition:transform .14s cubic-bezier(.22,1,.36,1),letter-spacing .14s,box-shadow .14s;animation:fU .7s cubic-bezier(.22,1,.36,1) .68s both,btnPulse 3.2s ease-in-out infinite;font-family:'Playfair Display',serif;letter-spacing:.06em;border:1.5px solid rgba(164,143,212,.52);position:relative;overflow:hidden;cursor:pointer;}
.open-book-btn:hover{transform:translateY(-6px) scale(1.07);border-color:rgba(232,226,247,.8);letter-spacing:.09em;box-shadow:0 20px 56px rgba(91,68,148,.72),0 0 65px rgba(124,99,184,.42),inset 0 2px 0 rgba(255,255,255,.42);}
.open-book-btn:active{transform:translateY(-2px) scale(1.02);transition-duration:.07s;}
.open-book-btn:focus{outline:3px solid rgba(164,143,212,.72);outline-offset:4px;}
.open-book-btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:radial-gradient(circle,rgba(255,255,255,.5),transparent 70%);border-radius:50%;transform:translate(-50%,-50%);transition:width .5s,height .5s;}
.open-book-btn:hover::before{width:430px;height:430px;}
@keyframes btnPulse{0%,100%{transform:scale(1);}50%{transform:scale(1.022);}}
@keyframes fU{from{opacity:0;transform:translateY(22px);}to{opacity:1;transform:translateY(0);}}
.open-book-btn span{position:relative;z-index:1;}

/* ‚ïê‚ïê‚ïê BOOK PAGES ‚ïê‚ïê‚ïê */
.book-pages{position:relative;background:linear-gradient(145deg,#f8f5ff 0%,#f1eefe 52%,#f6f3ff 100%);border-radius:12px;box-shadow:0 28px 75px var(--sh-m),0 8px 20px var(--sh-s),inset 0 0 120px rgba(244,241,251,.6);border-top:1px solid rgba(201,169,97,.16);overflow:hidden;animation:bookPagesOpen .85s cubic-bezier(.4,0,.2,1);}
@keyframes bookPagesOpen{from{opacity:0;transform:perspective(1000px) rotateY(-12deg) scale(.97);}to{opacity:1;transform:perspective(1000px) rotateY(0) scale(1);}}

/* slow wave light at top of pages */
.book-pages::before{content:'';position:absolute;top:-70px;left:-15%;right:-15%;height:160px;background:radial-gradient(ellipse 75% 100% at 50% 0%,rgba(164,143,212,.11),transparent);animation:waveTop 10s ease-in-out infinite;pointer-events:none;z-index:0;}
@keyframes waveTop{0%,100%{transform:scaleX(1) translateY(0);}50%{transform:scaleX(1.05) translateY(9px);}}

/* ‚îÄ‚îÄ page selector ‚îÄ‚îÄ */
.page-selector{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;background:rgba(244,241,251,.92);backdrop-filter:blur(12px);border-bottom:1px solid rgba(124,99,184,.1);flex-wrap:wrap;position:sticky;top:0;z-index:50;}
.page-select-btn{display:flex;flex-direction:column;align-items:center;gap:3px;padding:8px 14px;background:rgba(255,255,255,.68);border:1.5px solid rgba(124,99,184,.18);border-radius:10px;font-family:'Playfair Display',serif;font-size:.78rem;color:var(--ink-dark);cursor:pointer;transition:background .14s,border-color .14s,transform .14s cubic-bezier(.4,0,.2,1),box-shadow .14s;min-width:88px;text-align:center;line-height:1.3;}
.page-select-btn:hover{background:rgba(124,99,184,.1);border-color:rgba(124,99,184,.42);transform:translateY(-2px);box-shadow:0 5px 14px var(--sh-s);}
.page-select-btn:active{transform:translateY(0) scale(.97);}
.page-select-btn.active{background:linear-gradient(135deg,var(--v6),var(--v4));color:#fff;border-color:transparent;box-shadow:0 6px 22px var(--sh-m);transform:translateY(-2px);}
.page-select-btn .ps-num{font-size:1.05rem;font-weight:700;}
.page-select-btn .ps-icon{font-size:1rem;}
.page-select-btn .ps-title{font-size:.68rem;opacity:.85;max-width:82px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.page-select-btn.active .ps-title{opacity:1;}
.selector-divider{color:rgba(124,99,184,.28);font-size:1rem;margin:0 1px;}

/* ‚ïê‚ïê‚ïê PAGE ‚ïê‚ïê‚ïê */
.page{background:repeating-linear-gradient(0deg,transparent,transparent 31px,rgba(124,99,184,.036) 31px,rgba(124,99,184,.036) 32px),linear-gradient(145deg,#f8f5ff 0%,#f1eefe 55%,#f6f3ff 100%);padding:70px 90px 100px;min-height:600px;position:relative;border-left:58px solid rgba(124,99,184,.065);animation:pageTurn .75s cubic-bezier(.4,0,.2,1);transform-origin:left center;}
@keyframes pageTurn{0%{opacity:0;transform:perspective(1800px) rotateY(-6deg) translateY(12px);}55%{transform:perspective(1800px) rotateY(1.5deg) translateY(-3px);}100%{opacity:1;transform:perspective(1800px) rotateY(0) translateY(0);}}
.page::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 18% 22%,rgba(124,99,184,.065),transparent 38%),radial-gradient(ellipse at 82% 78%,rgba(164,143,212,.045),transparent 42%);pointer-events:none;animation:agingSpots 16s ease-in-out infinite;}
@keyframes agingSpots{0%,100%{opacity:.55;}50%{opacity:.82;}}
.page::after{content:'';position:absolute;left:22px;top:50%;transform:translateY(-50%);width:10px;height:85%;background:radial-gradient(circle,rgba(124,99,184,.2) 40%,rgba(0,0,0,.06) 40%,transparent 45%),radial-gradient(circle,rgba(124,99,184,.2) 40%,rgba(0,0,0,.06) 40%,transparent 45%),radial-gradient(circle,rgba(124,99,184,.2) 40%,rgba(0,0,0,.06) 40%,transparent 45%);background-size:10px 10px;background-position:0 0,0 50%,0 100%;background-repeat:no-repeat;}

.leaf-layer{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:1;}
.lf{position:absolute;font-size:var(--lsz);pointer-events:none;animation:lfDrift var(--ldur) var(--ldel) ease-in-out infinite;opacity:0;}
@keyframes lfDrift{0%{opacity:0;transform:translateY(20px) translateX(0) rotate(0deg) scale(1);}18%{opacity:.46;}82%{opacity:.2;}100%{opacity:0;transform:translateY(-140px) translateX(var(--lx)) rotate(200deg) scale(.3);}}

.page-content{position:relative;z-index:1;}
.page-number{position:absolute;bottom:28px;right:45px;font-family:'Dancing Script',cursive;font-size:1.35rem;color:var(--lav-mid);background:rgba(244,241,251,.65);padding:6px 16px;border-radius:50px;border:1.5px solid rgba(124,99,184,.22);box-shadow:0 4px 12px var(--sh-s);animation:pageNumPulse 3s ease-in-out infinite;z-index:100;}
@keyframes pageNumPulse{0%,100%{opacity:.52;}50%{opacity:.92;}}

/* ‚ïê‚ïê‚ïê SECTION TITLE ‚ïê‚ïê‚ïê */
.section-title{font-family:'Playfair Display',serif;font-size:3.2rem;font-weight:700;text-align:center;margin-bottom:36px;position:relative;display:inline-block;width:100%;animation:writeIn 1.2s cubic-bezier(.4,0,.2,1),titleFloat 6s ease-in-out infinite;filter:drop-shadow(0 5px 16px rgba(91,68,148,.18));}
.section-title .title-text{background:linear-gradient(118deg,var(--v7) 0%,var(--v5) 48%,var(--v6) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.section-title .title-icon{display:inline-block;margin-right:10px;filter:drop-shadow(0 3px 8px rgba(91,68,148,.32));}
@keyframes writeIn{from{opacity:0;transform:translateX(-60px) rotateY(-12deg);}to{opacity:1;transform:translateX(0) rotateY(0);}}
.section-title::after{content:'';position:absolute;bottom:-14px;left:50%;transform:translateX(-50%);width:0;height:3px;background:linear-gradient(90deg,transparent,var(--v5) 22%,var(--v3) 46%,var(--lav-pale) 68%,transparent);animation:lineDraw 1.8s cubic-bezier(.4,0,.2,1) forwards,lineGlow 4.2s ease-in-out infinite;box-shadow:0 3px 18px rgba(124,99,184,.32);border-radius:3px;}
@keyframes lineDraw{from{width:0;opacity:0;}to{width:240px;opacity:1;}}
@keyframes lineGlow{0%,100%{opacity:.62;}50%{opacity:1;}}

.section-intro{text-align:center;max-width:820px;margin:0 auto 48px;font-size:1.25rem;line-height:2;color:var(--ink-dark);font-style:italic;font-family:'Lora',serif;animation:fU .9s ease .4s both;font-weight:400;}

/* ‚ïê‚ïê‚ïê QUOTE BOX ‚ïê‚ïê‚ïê */
.quote-box{background:linear-gradient(135deg,rgba(221,214,254,.38),rgba(244,241,251,.28));border-left:4px solid var(--v5);border-right:4px solid var(--v4);padding:36px 50px;margin:40px 0;position:relative;animation:quoteReveal 1s ease;border-radius:8px;box-shadow:0 6px 22px var(--sh-s),0 0 45px rgba(124,99,184,.055);transition:box-shadow .22s,transform .22s;backdrop-filter:blur(5px);}
.quote-box:hover{box-shadow:0 12px 34px var(--sh-m),0 0 65px rgba(124,99,184,.1);transform:translateY(-3px);}
@keyframes quoteReveal{from{opacity:0;transform:scale(.94) translateY(24px);}to{opacity:1;transform:scale(1) translateY(0);}}
.quote-box::before{content:'"';position:absolute;top:-18px;left:18px;font-size:6rem;line-height:1;font-family:'Playfair Display',serif;color:var(--v4);opacity:.2;pointer-events:none;}
.quote-text{font-family:'Lora',serif;font-size:1.5rem;color:var(--ink-dark);line-height:1.85;text-align:center;position:relative;z-index:1;font-style:italic;font-weight:400;}

.callout{padding:22px 32px;margin:28px auto;max-width:840px;background:rgba(124,99,184,.075);border-left:4px solid var(--v5);border-radius:0 12px 12px 0;font-family:'Lora',serif;font-size:1.22rem;line-height:1.92;color:var(--ink-dark);font-style:italic;font-weight:400;transition:transform .18s,border-left-color .18s,box-shadow .18s;box-shadow:0 3px 12px var(--sh-s);}
.callout:hover{transform:translateX(7px);border-left-color:var(--v4);box-shadow:0 5px 20px var(--sh-s);}

.handwrite{font-family:'Dancing Script',cursive;font-size:1.95rem;color:var(--ink-dark);text-align:center;margin:44px auto;max-width:760px;line-height:1.85;animation:fU 1s ease .5s both;}

/* ‚ïê‚ïê‚ïê PRIZE BADGE ‚ïê‚ïê‚ïê */
.prize-badge{display:flex;align-items:center;justify-content:center;gap:10px;background:linear-gradient(135deg,rgba(201,169,97,.18),rgba(224,196,120,.1));border:1.5px solid rgba(201,169,97,.5);padding:12px 30px;border-radius:50px;font-family:'Playfair Display',serif;font-size:1.05rem;color:#6b4e12;font-weight:700;letter-spacing:.05em;box-shadow:0 4px 18px rgba(201,169,97,.26),inset 0 1px 0 rgba(255,255,255,.36);margin:20px auto 32px;max-width:fit-content;animation:badgeGold 3.2s ease-in-out infinite;}
@keyframes badgeGold{0%,100%{box-shadow:0 4px 18px rgba(201,169,97,.26);}50%{box-shadow:0 6px 32px rgba(201,169,97,.52),0 0 24px rgba(201,169,97,.16);}}

/* ‚ïê‚ïê‚ïê IMAGE CARD ‚ïê‚ïê‚ïê */
.image-card{display:flex;flex-direction:column;align-items:center;gap:30px;padding:40px 38px;background:linear-gradient(145deg,rgba(248,245,255,.86),rgba(237,232,254,.7));border-radius:18px;border:1.5px solid rgba(124,99,184,.2);box-shadow:0 10px 38px var(--sh-m),0 3px 10px var(--sh-s),inset 0 2px 8px rgba(255,255,255,.48),0 0 65px rgba(124,99,184,.045);transition:transform .22s cubic-bezier(.4,0,.2,1),border-color .22s,box-shadow .22s;position:relative;overflow:hidden;margin-bottom:40px;backdrop-filter:blur(6px);}
.image-card::before{content:'';position:absolute;left:0;top:8%;bottom:8%;width:3px;background:linear-gradient(180deg,transparent,var(--gold) 38%,var(--gold-pale) 62%,transparent);opacity:.35;border-radius:1px;transition:opacity .22s;}
.image-card:hover{transform:translateY(-7px) scale(1.012);border-color:rgba(124,99,184,.4);box-shadow:0 22px 58px var(--sh-m),0 0 85px rgba(124,99,184,.08);}
.image-card:hover::before{opacity:.72;}

.image-frame{border-radius:14px;overflow:hidden;aspect-ratio:4/3;box-shadow:0 10px 32px var(--sh-m),0 0 0 9px rgba(255,255,255,.88),0 0 0 11px rgba(124,99,184,.18);border:2px solid rgba(164,143,212,.72);max-height:460px;width:85%;transition:transform .22s,box-shadow .22s;position:relative;cursor:zoom-in;}
.image-card:hover .image-frame{transform:scale(1.025);}
.sticker{position:absolute;font-size:2.6rem;z-index:5;filter:drop-shadow(0 4px 10px rgba(124,99,184,.36));animation:stickerFloat 4.2s ease-in-out infinite;pointer-events:none;}
.sticker-1{top:-14px;right:-14px;}
.sticker-2{bottom:-14px;left:-14px;animation-delay:1.6s;}
@keyframes stickerFloat{0%,100%{transform:rotate(-7deg) scale(1);}50%{transform:rotate(8deg) scale(1.1);}}
.image-frame img{width:100%;height:100%;object-fit:cover;transition:transform .5s cubic-bezier(.4,0,.2,1),filter .5s;filter:sepia(.03) contrast(1.04) brightness(1.01) saturate(1.04);cursor:zoom-in;display:block;}
.image-card:hover .image-frame img{transform:scale(1.07);}
.image-caption{width:100%;max-width:860px;text-align:center;}
.image-caption p{font-size:1.22rem;line-height:2.05;color:var(--ink-dark);font-family:'Lora',serif;font-weight:400;margin-bottom:14px;transition:transform .2s;}
.image-card:hover .image-caption p{transform:translateX(3px);}
.image-caption p:last-child{margin-bottom:0;}

/* ‚ïê‚ïê‚ïê DUO IMAGES ‚ïê‚ïê‚ïê */
.duo-frame{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:32px 0;}
.duo-img{border-radius:12px;overflow:hidden;box-shadow:0 8px 24px var(--sh-m),0 0 0 7px rgba(255,255,255,.85),0 0 0 9px rgba(124,99,184,.16);border:2px solid rgba(164,143,212,.58);cursor:zoom-in;aspect-ratio:4/3;transition:transform .22s,box-shadow .22s;}
.duo-img:hover{transform:scale(1.04) translateY(-4px);box-shadow:0 14px 36px var(--sh-m),0 0 55px rgba(124,99,184,.1);}
.duo-img img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .4s;filter:sepia(.03) contrast(1.04);}
.duo-img:hover img{transform:scale(1.06);}

/* ‚ïê‚ïê‚ïê VIDEO ‚ïê‚ïê‚ïê */
.video-card{margin:32px 0;background:linear-gradient(145deg,rgba(248,245,255,.86),rgba(237,232,254,.7));border-radius:16px;border:1.5px solid rgba(124,99,184,.18);padding:24px;box-shadow:0 8px 28px var(--sh-s),0 0 55px rgba(124,99,184,.045);backdrop-filter:blur(6px);transition:transform .22s,border-color .22s;}
.video-card:hover{transform:translateY(-4px);border-color:rgba(124,99,184,.4);}
.video-label{font-family:'Dancing Script',cursive;font-size:1.2rem;color:var(--lav-deep);text-align:center;margin-bottom:16px;font-weight:600;}
.video-wrapper{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:10px;box-shadow:0 6px 20px var(--sh-m);}
.video-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none;border-radius:10px;}

/* ‚ïê‚ïê‚ïê PAGE NAV ‚ïê‚ïê‚ïê */
.page-nav{display:flex;justify-content:space-between;align-items:center;margin-top:56px;padding-top:36px;border-top:1.5px solid rgba(91,68,148,.18);position:relative;z-index:100;}
.nav-btn{padding:11px 28px;background:linear-gradient(135deg,var(--v6),var(--v4));color:#fff;font-weight:700;border-radius:50px;box-shadow:0 5px 18px var(--sh-m);transition:transform .15s cubic-bezier(.4,0,.2,1),box-shadow .15s;font-family:'Playfair Display',serif;font-size:.9rem;border:1.5px solid rgba(164,143,212,.42);cursor:pointer;position:relative;overflow:hidden;z-index:100;}
.nav-btn:focus{outline:3px solid rgba(164,143,212,.68);outline-offset:4px;}
.nav-btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;background:radial-gradient(circle,rgba(255,255,255,.5),transparent 70%);border-radius:50%;transform:translate(-50%,-50%);transition:width .5s,height .5s;}
.nav-btn:hover::before{width:360px;height:360px;}
.nav-btn:hover{transform:translateY(-3px);box-shadow:0 8px 24px var(--sh-m),0 0 42px rgba(124,99,184,.18);}
.nav-btn:active{transform:translateY(0);}
.nav-btn.disabled{opacity:.3;pointer-events:none;}
.nav-btn.cover-btn{background:linear-gradient(135deg,var(--v7),var(--v8));border-color:rgba(164,143,212,.32);}

.prog{display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:16px;}
.pdot{width:8px;height:8px;border-radius:50%;cursor:pointer;background:rgba(91,68,148,.2);border:1.5px solid rgba(91,68,148,.26);transition:all .18s cubic-bezier(.4,0,.2,1);}
.pdot:focus{outline:2px solid rgba(124,99,184,.58);outline-offset:3px;}
.pdot.on{width:26px;border-radius:5px;background:linear-gradient(90deg,var(--v6),var(--v4));border-color:transparent;box-shadow:0 2px 10px var(--sh-s);}
.pdot:hover:not(.on){background:rgba(91,68,148,.36);transform:scale(1.3);}

.rdiv{display:flex;align-items:center;gap:15px;margin:36px 0;opacity:.22;}
.rdiv::before,.rdiv::after{content:'';flex:1;height:1.5px;background:linear-gradient(90deg,transparent,var(--v5),transparent);}
.sig{text-align:center;font-family:'Dancing Script',cursive;font-size:2.4rem;color:var(--lav-deep);opacity:.62;margin:6px 0 36px;}
.dclouds{text-align:center;font-size:1.3rem;letter-spacing:18px;opacity:.2;margin:12px 0;animation:dcWv 9s ease-in-out infinite;}
@keyframes dcWv{0%,100%{transform:translateY(0);opacity:.18;}50%{transform:translateY(-6px);opacity:.38;}}

/* ‚ïê‚ïê‚ïê MODAL ‚ïê‚ïê‚ïê */
.image-modal{position:fixed;inset:0;background:rgba(20,8,0,0);backdrop-filter:blur(0px);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;z-index:10000;transition:opacity .3s ease,background .3s ease,backdrop-filter .3s ease;}
.image-modal.active{opacity:1;pointer-events:auto;background:rgba(15,8,38,.97);backdrop-filter:blur(22px);}
.modal-inner{position:relative;display:flex;flex-direction:column;align-items:center;gap:18px;max-width:94vw;max-height:94vh;}
.image-modal img{max-width:min(90vw,1000px);max-height:80vh;object-fit:contain;border-radius:10px;box-shadow:0 40px 100px rgba(0,0,0,.85),0 0 0 12px #fff,0 0 0 15px rgba(124,99,184,.48),0 0 65px rgba(124,99,184,.22);cursor:zoom-out;display:block;}
.modal-arrow{position:absolute;top:50%;transform:translateY(-50%);width:46px;height:46px;background:rgba(255,255,255,.1);border:2px solid rgba(164,143,212,.42);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.4rem;color:#fff;cursor:pointer;backdrop-filter:blur(8px);transition:background .15s,transform .15s;z-index:10001;}
.modal-arrow:hover{background:rgba(124,99,184,.46);transform:translateY(-50%) scale(1.12);}
.modal-arrow.prev{left:-64px;}.modal-arrow.next{right:-64px;}
.modal-close{position:fixed;top:24px;right:24px;width:50px;height:50px;background:rgba(255,255,255,.12);border:2px solid rgba(164,143,212,.52);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;color:#fff;cursor:pointer;backdrop-filter:blur(10px);z-index:10002;transition:background .15s,transform .15s,border-color .15s;}
.modal-close:hover{background:rgba(124,99,184,.5);border-color:rgba(164,143,212,1);transform:rotate(90deg) scale(1.12);}
.modal-caption{font-family:'Dancing Script',cursive;font-size:1.1rem;color:rgba(255,255,255,.85);text-align:center;background:rgba(0,0,0,.38);padding:8px 24px;border-radius:20px;backdrop-filter:blur(8px);max-width:80vw;}
.modal-esc-hint{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);font-family:'Lora',serif;font-size:.78rem;color:rgba(255,255,255,.36);letter-spacing:.1em;pointer-events:none;z-index:10001;}

.scroll-top{position:fixed;bottom:38px;right:38px;width:55px;height:55px;background:linear-gradient(135deg,var(--v6),var(--v4));border:2px solid rgba(232,226,247,.32);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.7rem;cursor:pointer;box-shadow:0 10px 32px var(--sh-m);transition:opacity .2s,transform .18s cubic-bezier(.4,0,.2,1);z-index:100;opacity:0;pointer-events:none;color:#fff;}
.scroll-top.visible{opacity:1;pointer-events:auto;animation:scrollBounce 2.2s ease-in-out infinite;}
@keyframes scrollBounce{0%,100%{transform:translateY(0);}50%{transform:translateY(-6px);}}
.scroll-top:hover{transform:translateY(-6px) scale(1.08)!important;}

.loading-spinner{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80px;height:80px;border:5px solid rgba(124,99,184,.18);border-top-color:var(--v5);border-radius:50%;animation:spinnerRotate 1s linear infinite;z-index:10000;display:none;}
.loading-spinner.active{display:block;}
.loading-spinner::after{content:'üéµ';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.8rem;}
@keyframes spinnerRotate{to{transform:translate(-50%,-50%) rotate(360deg);}}

/* ‚îÄ‚îÄ responsive ‚îÄ‚îÄ */
@media(max-width:768px){
  body{padding:22px 10px;}
  .book-cover{padding:44px 30px;}
  .cover-title{font-size:2.8rem;}
  .cover-subtitle{font-size:1.6rem;}
  .page{padding:50px 24px 90px;border-left:30px solid rgba(124,99,184,.065);}
  .section-title{font-size:2rem;}
  .section-intro{font-size:1rem;}
  .image-frame{width:96%;}
  .image-caption p{font-size:1.05rem;}
  .quote-text{font-size:1.28rem;}
  .handwrite{font-size:1.55rem;}
  .callout{font-size:1rem;}
  .duo-frame{grid-template-columns:1fr;}
  .breadcrumb{top:auto;bottom:20px;left:50%;right:auto;transform:translateX(-50%);font-size:.72rem;padding:5px 14px;max-width:calc(100vw - 40px);}
  .page-select-btn .ps-title{display:none;}
  .page-selector{gap:5px;padding:10px 8px;}
  .page-select-btn{min-width:55px;padding:7px 10px;}
  .home-btn{font-size:.76rem;padding:7px 12px;}
  .selector-divider{display:none;}
  .modal-arrow.prev{left:8px;top:auto;bottom:14px;transform:none;}
  .modal-arrow.next{right:8px;top:auto;bottom:14px;transform:none;}
  .modal-arrow:hover{transform:scale(1.12);}
}
@media(max-width:480px){
  .page{padding:38px 14px 80px;}
  .section-title{font-size:1.75rem;}
  .quote-box{padding:28px 18px;}
  .quote-text{font-size:1.12rem;}
  .sig{font-size:2rem;}
  .cover-title{font-size:2.3rem;}
  .cover-subtitle{font-size:1.35rem;}
}
@media(prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;}}
</style>
</head>
<body>

<div class="vignette" aria-hidden="true"></div>
<div class="star-field" id="starField" aria-hidden="true"></div>
<div class="sr-announce" aria-live="polite" aria-atomic="true" id="srAnnounce"></div>
<div class="progress-bar-container" id="progressBarContainer"><div class="progress-bar" id="progressBar"></div></div>
<a href="index.html" class="home-btn" aria-label="Quay v·ªÅ trang ch·ªß">üè† <span>Trang Ch·ªß</span></a>
<div class="breadcrumb" id="breadcrumb" role="navigation" aria-label="V·ªã tr√≠ hi·ªán t·∫°i"><span aria-hidden="true">üéµ</span> <span id="breadcrumbText">B√¨a s√°ch</span></div>
<div class="loading-spinner" id="loadingSpinner" role="status" aria-label="ƒêang t·∫£i..."></div>

<div class="book-container" id="bookContainer">

  <!-- COVER -->
  <div class="book-cover" id="bookCover">
    <div class="bookmark" aria-hidden="true"></div>
    <div class="note-wrap" id="noteWrap" aria-hidden="true"></div>
    <div class="cover-content">
      <div class="cover-badge" aria-label="M·ªëc k·ª∑ ni·ªám th·ª© 4 tr√™n 6">‚ú¶ &nbsp;M·ªëc K·ª∑ Ni·ªám Th·ª© 4 / 6&nbsp; ‚ú¶</div>
      <div class="cover-icon-wrap">
        <div class="cover-icon" aria-hidden="true">üéµ</div>
      </div>
      <h1 class="cover-title">GIAI ƒêI·ªÜU TU·ªîI H·ªíNG</h1>
      <div class="cover-divider"></div>
      <h2 class="cover-subtitle">D·∫•u ·∫•n kh√≥ qu√™n ¬∑ H√πng V∆∞∆°ng Nh·ªØng M√πa Nh·ªõ ¬∑ L·ªõp 11L</h2>
      <p class="cover-quote">M·ªôt nƒÉm h·ªçc v·ªõi th·∫≠t nhi·ªÅu cung b·∫≠c c·∫£m x√∫c ‚Äî<br>n∆°i ch√∫ng m√¨nh c√πng nhau h√°t, s√°ng t·∫°o v√† vi·∫øt n√™n<br>nh·ªØng trang k·ª∑ ni·ªám ƒë·∫πp nh·∫•t c·ªßa tu·ªïi h·ªçc tr√≤.</p>
      <button class="open-book-btn" id="openBookBtn" aria-label="M·ªü nh·∫≠t k√Ω Giai ƒêi·ªáu Tu·ªïi H·ªìng"><span>üé∂ &nbsp;M·ªü Nh·∫≠t K√Ω&nbsp; üé∂</span></button>
    </div>
  </div>

  <!-- PAGES -->
  <div class="book-pages" id="bookPages" style="display:none;">
    <nav class="page-selector" role="navigation" aria-label="Ch·ªçn trang">
      <button class="page-select-btn active" data-page="1" aria-label="Trang 1" aria-current="page"><span class="ps-icon" aria-hidden="true">üé§</span><span class="ps-num">01</span><span class="ps-title">Tri √Çn</span></button>
      <span class="selector-divider" aria-hidden="true">‚Ä∫</span>
      <button class="page-select-btn" data-page="2" aria-label="Trang 2"><span class="ps-icon" aria-hidden="true">üåü</span><span class="ps-num">02</span><span class="ps-title">H·∫≠u Tr∆∞·ªùng</span></button>
      <span class="selector-divider" aria-hidden="true">‚Ä∫</span>
      <button class="page-select-btn" data-page="3" aria-label="Trang 3"><span class="ps-icon" aria-hidden="true">‚ú®</span><span class="ps-num">03</span><span class="ps-title">S√°ng T·∫°o</span></button>
      <span class="selector-divider" aria-hidden="true">‚Ä∫</span>
      <button class="page-select-btn" data-page="4" aria-label="Trang 4"><span class="ps-icon" aria-hidden="true">üíú</span><span class="ps-num">04</span><span class="ps-title">L·ªùi K·∫øt</span></button>
    </nav>
    <div class="prog" style="padding-top:20px;" role="navigation" aria-label="ƒêi·ªÅu h∆∞·ªõng trang">
      <button class="pdot on" data-p="1" aria-label="Trang 1" aria-current="true"></button>
      <button class="pdot" data-p="2" aria-label="Trang 2"></button>
      <button class="pdot" data-p="3" aria-label="Trang 3"></button>
      <button class="pdot" data-p="4" aria-label="Trang 4"></button>
    </div>

    <!-- PAGE 1 -->
    <div class="page" id="page1" role="main">
      <div class="leaf-layer" id="lf1" aria-hidden="true"></div>
      <div class="page-content">
        <div class="dclouds" aria-hidden="true">üéµ &nbsp;&nbsp; üé∂ &nbsp;&nbsp;&nbsp;&nbsp; ‚ô™</div>
        <h3 class="section-title"><span class="title-icon" aria-hidden="true">üé§</span><span class="title-text">Kh√∫c H√°t Tri √Çn</span></h3>
        <p class="section-intro">C·∫•t l√™n l√≤ng bi·∫øt ∆°n s√¢u s·∫Øc ƒë·∫øn nh·ªØng "ng∆∞·ªùi l√°i ƒë√≤" th·∫ßm l·∫∑ng, ca kh√∫c <em>"Ng∆∞·ªùi Gieo M·∫ßm Xanh"</em> do hai gi·ªçng ca ch√≠nh <strong>Minh Duy</strong> v√† <strong>Danh Huy</strong> tr√¨nh b√†y ƒë√£ ch·∫°m ƒë·∫øn tr√°i tim ng∆∞·ªùi nghe.</p>
        <div class="prize-badge" aria-label="Gi·∫£i th∆∞·ªüng">üèÜ &nbsp;Gi·∫£i C√¥ng Nh·∫≠n ¬∑ Giai ƒêi·ªáu Tu·ªïi H·ªìng&nbsp; üèÜ</div>
        <blockquote class="quote-box"><p class="quote-text">V·ªõi giai ƒëi·ªáu da di·∫øt, l·ªùi ca √Ω nghƒ©a v·ªÅ c√¥ng ∆°n th·∫ßy c√¥ ‚Äî nh·ªØng ng∆∞·ªùi ƒë√£ ∆∞∆°m m·∫ßm tri th·ª©c v√† nh√¢n c√°ch, ti·∫øt m·ª•c c·ªßa ch√∫ng m√¨nh ƒë√£ ch·∫°m ƒë·∫øn tr√°i tim kh√°n gi·∫£.</p></blockquote>
        <article class="image-card">
          <figure class="image-frame"><span class="sticker sticker-1" aria-hidden="true">üéµ</span><img src="" alt="Gi·∫£i C√¥ng Nh·∫≠n - Giai ƒêi·ªáu Tu·ªïi H·ªìng" loading="lazy"><span class="sticker sticker-2" aria-hidden="true">üå∏</span></figure>
          <figcaption class="image-caption"><p>Ti·∫øt m·ª•c bi·ªÉu di·ªÖn ca kh√∫c "Ng∆∞·ªùi Gieo M·∫ßm Xanh" ‚Äî m√≥n qu√† tinh th·∫ßn √Ω nghƒ©a t·ª´ l·ªõp 11L g·ª≠i ƒë·∫øn nh·ªØng ng∆∞·ªùi th·∫ßy, ng∆∞·ªùi c√¥ k√≠nh y√™u trong ng√†y h·ªôi √¢m nh·∫°c c·ªßa tr∆∞·ªùng.</p></figcaption>
        </article>
        <div class="video-card">
          <div class="video-label">üé∂ M√†n tr√¨nh di·ªÖn ƒë·∫ßy c·∫£m x√∫c</div>
          <div class="video-wrapper"><iframe src="https://www.youtube.com/embed/NumPBw-i5OY" title="Ng∆∞·ªùi Gieo M·∫ßm Xanh - L·ªõp 11L" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
        </div>
        <div class="callout">D∆∞·ªõi √°nh ƒë√®n s√¢n kh·∫•u, hai ch√†ng trai kh√¥ng ch·ªâ t·ªèa s√°ng b·∫±ng t√†i nƒÉng m√† c√≤n b·∫±ng s·ª± ch√¢n th√†nh trong t·ª´ng c√¢u h√°t. Ti·∫øt m·ª•c ƒë√£ tr·ªü th√†nh m√≥n qu√† tinh th·∫ßn √Ω nghƒ©a, kh√©p l·∫°i h√†nh tr√¨nh Giai ƒêi·ªáu Tu·ªïi H·ªìng th·∫≠t ƒë·∫πp v√† ·∫•m √°p.</div>
      </div>
      <div class="page-number" aria-label="Trang 1 tr√™n 4">~ Trang 1 ~</div>
      <nav class="page-nav"><button class="nav-btn cover-btn" onclick="closePage()">üéµ V·ªÅ B√¨a S√°ch</button><button class="nav-btn" onclick="turnPage(2)">Trang sau ‚Üí</button></nav>
    </div>

    <!-- PAGE 2 -->
    <div class="page" id="page2" style="display:none;" role="main">
      <div class="leaf-layer" id="lf2" aria-hidden="true"></div>
      <div class="page-content">
        <div class="dclouds" aria-hidden="true">üéµ &nbsp;&nbsp; üåü &nbsp;&nbsp;&nbsp;&nbsp; üé∂</div>
        <h3 class="section-title"><span class="title-icon" aria-hidden="true">üåü</span><span class="title-text">H·∫≠u Tr∆∞·ªùng N·ªó L·ª±c</span></h3>
        <p class="section-intro">√Ånh ƒë√®n s√¢n kh·∫•u c√≥ th·ªÉ r·ª±c r·ª°, nh∆∞ng h·∫≠u tr∆∞·ªùng m·ªõi l√† n∆°i ch·ª©a ƒë·ª±ng nh·ªØng k·ª∑ ni·ªám th·∫≠t nh·∫•t ‚Äî nh·ªØng gi·ªù luy·ªán t·∫≠p c·∫ßn m·∫´n, nh·ªØng kho·∫£nh kh·∫Øc c√πng nhau s·ª≠a t·ª´ng t√¥ng gi·ªçng, t·ª´ng nh·ªãp b√†i.</p>
        <article class="image-card">
          <figure class="image-frame"><span class="sticker sticker-1" aria-hidden="true">üé§</span><img src="chuanbi.jpg" alt="Minh Duy v√† Danh Huy th·ª≠ mic, chu·∫©n b·ªã cho ph·∫ßn bi·ªÉu di·ªÖn" loading="lazy"><span class="sticker sticker-2" aria-hidden="true">üåü</span></figure>
          <figcaption class="image-caption"><p>Kho·∫£nh kh·∫Øc hai "ngh·ªá sƒ© nh√≠" <strong>Minh Duy</strong> v√† <strong>Danh Huy</strong> chƒÉm ch√∫ th·ª≠ mic, ƒëi·ªÅu ch·ªânh t·ª´ng t√¥ng gi·ªçng cho th·∫≠t h√≤a h·ª£p ‚Äî kh√¥ng ch·ªâ l√† s·ª± chu·∫©n b·ªã, m√† c√≤n l√† t√¢m huy·∫øt mu·ªën g·ª≠i g·∫Øm tr·ªçn v·∫πn th√¥ng ƒëi·ªáp tri √¢n qua b√†i h√°t.</p><p>M·ªçi s·ª± n·ªó l·ª±c ƒë·ªÅu b·∫Øt ƒë·∫ßu t·ª´ nh·ªØng ƒëi·ªÅu nh·ªè b√© nh∆∞ th·∫ø.</p></figcaption>
        </article>
        <blockquote class="quote-box"><p class="quote-text">T·∫≠p h√°t kh√¥ng ch·ªâ l√† luy·ªán gi·ªçng ‚Äî ƒë√≥ l√† c√°ch ch√∫ng m√¨nh h·ªçc c√°ch l·∫Øng nghe nhau, h√≤a gi·ªçng v√† c√πng h∆∞·ªõng ƒë·∫øn m·ªôt m·ª•c ti√™u chung.</p></blockquote>
      </div>
      <div class="page-number" aria-label="Trang 2 tr√™n 4">~ Trang 2 ~</div>
      <nav class="page-nav"><button class="nav-btn" onclick="turnPage(1)">‚Üê Trang tr∆∞·ªõc</button><button class="nav-btn" onclick="turnPage(3)">Trang sau ‚Üí</button></nav>
    </div>

    <!-- PAGE 3 -->
    <div class="page" id="page3" style="display:none;" role="main">
      <div class="leaf-layer" id="lf3" aria-hidden="true"></div>
      <div class="page-content">
        <div class="dclouds" aria-hidden="true">‚ôªÔ∏è &nbsp;&nbsp; ‚ú® &nbsp;&nbsp;&nbsp;&nbsp; üåø</div>
        <h3 class="section-title"><span class="title-icon" aria-hidden="true">‚ú®</span><span class="title-text">B·ªô Trang Ph·ª•c "C√¥ng Ngh·ªá Xanh"</span></h3>
        <p class="section-intro">T·ª´ nh·ªØng v·∫≠t li·ªáu t√°i ch·∫ø quen thu·ªôc ‚Äî bao b√¨, gi·∫•y b√°o, chai nh·ª±a, ƒëƒ©a CD ‚Äî qua b√†n tay kh√©o l√©o v√† √≥c s√°ng t·∫°o c·ªßa c·∫£ t·∫≠p th·ªÉ, m·ªôt b·ªô trang ph·ª•c ƒë·ªôc ƒë√°o mang th√¥ng ƒëi·ªáp b·∫£o v·ªá m√¥i tr∆∞·ªùng ƒë√£ ra ƒë·ªùi.</p>
        <div class="callout">Nh·ªØng bu·ªïi t·ªëi c√πng nhau c·∫Øt d√°n, thi·∫øt k·∫ø l√† nh·ªØng k·ª∑ ni·ªám ƒëong ƒë·∫ßy ti·∫øng c∆∞·ªùi v√† s·ª± g·∫Øn k·∫øt ‚Äî s·ª©c m·∫°nh c·ªßa t·∫≠p th·ªÉ ƒë∆∞·ª£c th·ªÉ hi·ªán qua t·ª´ng chi ti·∫øt nh·ªè.</div>
        <div class="duo-frame">
          <div class="duo-img"><img src="thanhlich2.jpg" alt="Gia Ph∆∞∆°ng trong b·ªô trang ph·ª•c C√¥ng Ngh·ªá Xanh" loading="lazy"></div>
          <div class="duo-img"><img src="thanhlich5.jpg" alt="Danh Huy t·ªèa s√°ng tr√™n s√¢n kh·∫•u th·ªùi trang t√°i ch·∫ø" loading="lazy"></div>
        </div>
        <p class="section-intro" style="margin-top:8px;margin-bottom:28px;">V·ªõi s·ª± t·ª± tin v√† duy√™n d√°ng, <strong>Gia Ph∆∞∆°ng</strong> v√† <strong>Danh Huy</strong> ƒë√£ l√†m ch·ªß s√¢n kh·∫•u ‚Äî t·ª´ng b∆∞·ªõc ƒëi, t·ª´ng t·∫°o d√°ng ƒë·ªÅu th·ªÉ hi·ªán th√¥ng ƒëi·ªáp b·∫£o v·ªá m√¥i tr∆∞·ªùng trong th·ªùi ƒë·∫°i c√¥ng ngh·ªá.</p>
        <div class="video-card">
          <div class="video-label">üåø M√†n tr√¨nh di·ªÖn th·ªùi trang t√°i ch·∫ø</div>
          <div class="video-wrapper"><iframe src="https://www.youtube.com/embed/FHmLuygq2nk" title="Tr√¨nh di·ªÖn trang ph·ª•c C√¥ng Ngh·ªá Xanh - L·ªõp 11L" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
        </div>
      </div>
      <div class="page-number" aria-label="Trang 3 tr√™n 4">~ Trang 3 ~</div>
      <nav class="page-nav"><button class="nav-btn" onclick="turnPage(2)">‚Üê Trang tr∆∞·ªõc</button><button class="nav-btn" onclick="turnPage(4)">Trang sau ‚Üí</button></nav>
    </div>

    <!-- PAGE 4 -->
    <div class="page" id="page4" style="display:none;" role="main">
      <div class="leaf-layer" id="lf4" aria-hidden="true"></div>
      <div class="page-content">
        <div class="dclouds" aria-hidden="true">üéµ &nbsp;&nbsp; üíú &nbsp;&nbsp;&nbsp;&nbsp; üå∏</div>
        <h3 class="section-title"><span class="title-icon" aria-hidden="true">üíú</span><span class="title-text">L·ªùi K·∫øt</span></h3>
        <blockquote class="quote-box"><p class="quote-text">D√π k·∫øt qu·∫£ c√≥ th·ªÉ ch∆∞a ph·∫£i cao nh·∫•t,<br>nh∆∞ng nh·ªØng g√¨ ch√∫ng ta c√≥ ƒë∆∞·ª£c c√≤n qu√Ω gi√° h∆°n c·∫£ gi·∫£i th∆∞·ªüng:<br>ƒë√≥ l√† t√¨nh b·∫°n, l√† k√Ω ·ª©c v√† l√† m·ªôt nƒÉm l·ªõp 11 th·∫≠t tr·ªçn v·∫πn.</p></blockquote>
        <p class="handwrite">H√†nh tr√¨nh tham gia "Giai ƒêi·ªáu Tu·ªïi H·ªìng" v√† "H√πng V∆∞∆°ng Nh·ªØng M√πa Nh·ªõ" kh√¥ng ch·ªâ ƒë∆°n thu·∫ßn l√† nh·ªØng cu·ªôc thi ‚Äî ƒë√≥ l√† n∆°i ch√∫ng m√¨nh c√πng nhau vi·∫øt n√™n nh·ªØng k·ª∑ ni·ªám ƒë·∫πp c·ªßa tu·ªïi h·ªçc tr√≤. üé∂üíú</p>
        <div class="rdiv" aria-hidden="true"><span>üéµ</span><span>üå∏</span><span>üé∂</span></div>
        <div class="sig" aria-label="K·∫øt th√∫c nh·∫≠t k√Ω">üéµ ~ H·∫øt ~ üéµ</div>
      </div>
      <div class="page-number" aria-label="Trang 4 tr√™n 4">~ Trang 4 ~</div>
      <nav class="page-nav"><button class="nav-btn" onclick="turnPage(3)">‚Üê Trang tr∆∞·ªõc</button><button class="nav-btn cover-btn" onclick="closePage()">üéµ ƒê√≥ng s√°ch</button></nav>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="image-modal" id="imageModal" role="dialog" aria-modal="true" aria-label="Xem ·∫£nh ph√≥ng to">
  <button class="modal-close" id="modalClose" aria-label="ƒê√≥ng ·∫£nh">√ó</button>
  <div class="modal-inner">
    <button class="modal-arrow prev" id="modalPrev" aria-label="·∫¢nh tr∆∞·ªõc">‚Äπ</button>
    <img id="modalImg" alt="" src="">
    <button class="modal-arrow next" id="modalNext" aria-label="·∫¢nh sau">‚Ä∫</button>
    <div class="modal-caption" id="modalCaption"></div>
  </div>
  <div class="modal-esc-hint">Nh·∫•n ESC ƒë·ªÉ ƒë√≥ng &nbsp;¬∑&nbsp; ‚Üê ‚Üí ƒë·ªÉ chuy·ªÉn ·∫£nh</div>
</div>
<button class="scroll-top" id="scrollTop" onclick="scrollToTop()" aria-label="Cu·ªôn l√™n ƒë·∫ßu trang">‚Üë</button>

<script>
let currentPage=1,touchStartX=0,touchEndX=0;

/* star field */
(function(){
  const sf=document.getElementById('starField');
  for(let i=0;i<55;i++){
    const s=document.createElement('div');s.className='star';
    const sz=1+Math.random()*2.5;
    s.style.cssText=`width:${sz}px;height:${sz}px;left:${Math.random()*100}%;top:${Math.random()*100}%;--sd:${2.5+Math.random()*4.5}s;--ss:${Math.random()*7}s;`;
    sf.appendChild(s);
  }
})();

/* floating notes on cover */
function buildNotes(){
  const w=document.getElementById('noteWrap');
  const notes=['‚ô©','‚ô™','‚ô´','‚ô¨','üéµ','üé∂','‚ô≠','‚ôÆ'];
  for(let i=0;i<18;i++){
    const n=document.createElement('div');n.className='note';
    const sz=.9+Math.random()*1.4;
    n.textContent=notes[i%notes.length];
    n.style.cssText=`left:${5+Math.random()*90}%;bottom:${3+Math.random()*40}%;--nz:${sz}rem;--nd:${4.5+Math.random()*5}s;--ns:${Math.random()*9}s;--nx:${(Math.random()-.5)*80}px;color:rgba(228,222,247,${.3+Math.random()*.42});`;
    w.appendChild(n);
  }
}

/* leaf layers */
const LEAVES=['üéµ','‚ô™','üíú','‚ú®','üé∂','‚ô´'];
function buildLeaves(id){
  const el=document.getElementById(id);if(!el)return;
  for(let i=0;i<10;i++){
    const l=document.createElement('div');l.className='lf';
    l.textContent=LEAVES[i%LEAVES.length];
    l.style.cssText=`left:${Math.random()*95}%;bottom:${Math.random()*18}%;--lsz:${10+Math.random()*8}px;--ldur:${5+Math.random()*6}s;--ldel:${Math.random()*9}s;--lx:${(Math.random()-.5)*90}px;`;
    el.appendChild(l);
  }
}

/* cursor trail */
let lastTrail=0;
document.addEventListener('mousemove',e=>{
  const now=Date.now();if(now-lastTrail<95)return;if(Math.random()>.5)return;
  lastTrail=now;const t=document.createElement('div');t.className='cursor-trail';
  t.style.cssText=`left:${e.clientX}px;top:${e.clientY}px`;
  document.body.appendChild(t);setTimeout(()=>t.remove(),630);
},{passive:true});

function announce(msg){const el=document.getElementById('srAnnounce');el.textContent='';requestAnimationFrame(()=>{el.textContent=msg;});}

function updateBreadcrumb(n){
  const bc=document.getElementById('breadcrumb'),bt=document.getElementById('breadcrumbText');
  if(n===0){bt.textContent='B√¨a s√°ch';bc.classList.remove('visible');}
  else{const t=['Kh√∫c H√°t Tri √Çn','H·∫≠u Tr∆∞·ªùng N·ªó L·ª±c','Trang Ph·ª•c C√¥ng Ngh·ªá Xanh','L·ªùi K·∫øt'];bt.textContent=`Trang ${n}: ${t[n-1]}`;bc.classList.add('visible');}
}
function updatePageSelector(n){document.querySelectorAll('.page-select-btn').forEach(btn=>{const a=+btn.dataset.page===n;btn.classList.toggle('active',a);btn.setAttribute('aria-current',a?'page':'false');});}
function animateProgressBar(dur){
  const c=document.getElementById('progressBarContainer'),b=document.getElementById('progressBar');
  c.classList.add('active');b.style.transition='none';b.style.width='0%';
  requestAnimationFrame(()=>{b.style.transition=`width ${dur}ms cubic-bezier(.4,0,.2,1)`;b.style.width='100%';setTimeout(()=>{c.classList.remove('active');b.style.transition='none';b.style.width='0%';},dur+80);});
}
function syncDots(n){document.querySelectorAll('.pdot').forEach(d=>{const a=+d.dataset.p===n;d.classList.toggle('on',a);d.setAttribute('aria-current',a?'true':'false');});}

document.querySelectorAll('.pdot').forEach(d=>{d.addEventListener('click',()=>turnPage(+d.dataset.p));d.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();turnPage(+d.dataset.p);}});});
document.querySelectorAll('.page-select-btn').forEach(btn=>{btn.addEventListener('click',()=>turnPage(+btn.dataset.page));btn.addEventListener('keydown',e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();turnPage(+btn.dataset.page);}});});

document.getElementById('openBookBtn').addEventListener('click',function(e){
  e.preventDefault();e.stopPropagation();
  if(this.dataset.processing==='true')return;this.dataset.processing='true';
  const cover=document.getElementById('bookCover'),pages=document.getElementById('bookPages');
  cover.style.transition='opacity .22s cubic-bezier(.4,0,.2,1),transform .22s';
  cover.style.opacity='0';cover.style.transform='scale(.97) translateY(-8px)';
  setTimeout(()=>{
    cover.style.display='none';cover.style.opacity='';cover.style.transform='';cover.style.transition='';
    pages.style.display='block';document.getElementById('page1').style.display='block';
    pages.style.opacity='0';pages.style.transform='translateY(10px)';
    pages.style.transition='opacity .28s cubic-bezier(.22,1,.36,1),transform .28s cubic-bezier(.22,1,.36,1)';
    requestAnimationFrame(()=>requestAnimationFrame(()=>{pages.style.opacity='1';pages.style.transform='translateY(0)';}));
    currentPage=1;syncDots(1);updateBreadcrumb(1);updatePageSelector(1);
    announce('ƒê√£ m·ªü nh·∫≠t k√Ω. ƒêang ·ªü trang 1: Kh√∫c H√°t Tri √Çn');
    this.dataset.processing='false';
    window.scrollTo({top:0,behavior:'smooth'});
    setTimeout(()=>{pages.style.transition='';pages.style.opacity='';pages.style.transform='';},300);
  },200);
});

function turnPage(n){
  if(n<1||n>4||currentPage===n)return;
  animateProgressBar(280);document.getElementById('loadingSpinner').classList.add('active');
  setTimeout(()=>{
    document.getElementById('page'+currentPage).style.display='none';
    document.getElementById('page'+n).style.display='block';
    currentPage=n;syncDots(n);updateBreadcrumb(n);updatePageSelector(n);
    const t=['Kh√∫c H√°t Tri √Çn','H·∫≠u Tr∆∞·ªùng N·ªó L·ª±c','Trang Ph·ª•c C√¥ng Ngh·ªá Xanh','L·ªùi K·∫øt'];
    announce(`Trang ${n}: ${t[n-1]}`);
    document.getElementById('loadingSpinner').classList.remove('active');
    window.scrollTo({top:0,behavior:'smooth'});
  },280);
}

function closePage(){
  animateProgressBar(260);document.getElementById('loadingSpinner').classList.add('active');
  setTimeout(()=>{
    document.getElementById('bookPages').style.display='none';
    document.getElementById('bookCover').style.display='block';
    document.getElementById('page'+currentPage).style.display='none';
    document.getElementById('loadingSpinner').classList.remove('active');
    updateBreadcrumb(0);announce('ƒê√£ ƒë√≥ng nh·∫≠t k√Ω, quay v·ªÅ b√¨a s√°ch');
    window.scrollTo({top:0,behavior:'smooth'});
  },260);
}

function handleSwipe(){const d=touchStartX-touchEndX;if(Math.abs(d)>45){if(d>0&&currentPage<4)turnPage(currentPage+1);else if(d<0&&currentPage>1)turnPage(currentPage-1);}}
document.getElementById('bookPages').addEventListener('touchstart',e=>{touchStartX=e.changedTouches[0].screenX;},{passive:true});
document.getElementById('bookPages').addEventListener('touchend',e=>{touchEndX=e.changedTouches[0].screenX;handleSwipe();},{passive:true});

/* modal */
const modal=document.getElementById('imageModal'),modalImg=document.getElementById('modalImg'),modalCaption=document.getElementById('modalCaption'),modalPrev=document.getElementById('modalPrev'),modalNext=document.getElementById('modalNext'),modalClose=document.getElementById('modalClose');
let allImgs=[],currentModalIdx=0;

function collectImages(){allImgs=Array.from(document.querySelectorAll('.image-frame img,.duo-img img')).filter(img=>{const page=img.closest('.page');if(!page)return true;return getComputedStyle(page).display!=='none';});}

function openModal(img){
  collectImages();currentModalIdx=allImgs.findIndex(i=>i.src===img.src);
  if(currentModalIdx===-1){allImgs=[img];currentModalIdx=0;}
  modalImg.style.transition='none';modalImg.style.opacity='0';modalImg.style.transform='scale(0.7) rotate(-6deg)';
  modalImg.src=img.src;modalImg.alt=img.alt;modalCaption.textContent=img.alt||'';
  modal.classList.add('active');document.body.style.overflow='hidden';
  requestAnimationFrame(()=>requestAnimationFrame(()=>{modalImg.style.transition='transform 0.42s cubic-bezier(0.22,1,0.36,1),opacity 0.35s ease';modalImg.style.opacity='1';modalImg.style.transform='scale(1) rotate(0deg)';}));
  updateArrows();
}
function closeModal(){
  modalImg.style.transition='transform 0.3s ease,opacity 0.25s ease';modalImg.style.transform='scale(0.7) rotate(5deg)';modalImg.style.opacity='0';
  modal.classList.remove('active');document.body.style.overflow='';
  setTimeout(()=>{modalImg.removeAttribute('src');modalImg.style.transition='none';modalImg.style.transform='';modalImg.style.opacity='';},320);
}
function navigateModal(dir){
  const next=currentModalIdx+dir;if(next<0||next>=allImgs.length)return;
  modalImg.style.transition='transform 0.2s ease,opacity 0.2s ease';modalImg.style.transform=`scale(0.88) translateX(${dir>0?'-60px':'60px'})`;modalImg.style.opacity='0';
  setTimeout(()=>{
    currentModalIdx=next;const target=allImgs[currentModalIdx];
    modalImg.src=target.src;modalImg.alt=target.alt;modalCaption.textContent=target.alt||'';
    modalImg.style.transition='none';modalImg.style.transform=`scale(0.88) translateX(${dir>0?'60px':'-60px'})`;modalImg.style.opacity='0';
    requestAnimationFrame(()=>requestAnimationFrame(()=>{modalImg.style.transition='transform 0.35s cubic-bezier(0.22,1,0.36,1),opacity 0.3s ease';modalImg.style.transform='scale(1) translateX(0)';modalImg.style.opacity='1';}));
    updateArrows();
  },220);
}
function updateArrows(){
  const atStart=currentModalIdx<=0,atEnd=currentModalIdx>=allImgs.length-1;
  modalPrev.style.opacity=atStart?'.25':'1';modalPrev.style.pointerEvents=atStart?'none':'auto';
  modalNext.style.opacity=atEnd?'.25':'1';modalNext.style.pointerEvents=atEnd?'none':'auto';
}
modalPrev.addEventListener('click',e=>{e.stopPropagation();navigateModal(-1);});
modalNext.addEventListener('click',e=>{e.stopPropagation();navigateModal(1);});
modalClose.addEventListener('click',e=>{e.stopPropagation();closeModal();});
modalImg.addEventListener('click',e=>{e.stopPropagation();closeModal();});
modal.addEventListener('click',e=>{if(e.target===modal)closeModal();});
document.addEventListener('click',e=>{
  if(e.target.closest('#modalPrev,#modalNext,#modalClose,#modalImg'))return;
  const wrapper=e.target.closest('.image-frame,.duo-img');if(!wrapper)return;
  const img=(e.target.tagName==='IMG')?e.target:wrapper.querySelector('img');
  if(img&&img.src){e.stopPropagation();openModal(img);}
});
document.addEventListener('keydown',e=>{
  if(modal.classList.contains('active')){if(e.key==='Escape')closeModal();if(e.key==='ArrowLeft')navigateModal(-1);if(e.key==='ArrowRight')navigateModal(1);return;}
  if(document.getElementById('bookPages').style.display!=='block')return;
  if(e.key==='ArrowRight'&&currentPage<4)turnPage(currentPage+1);
  if(e.key==='ArrowLeft'&&currentPage>1)turnPage(currentPage-1);
});

const stBtn=document.getElementById('scrollTop');
window.addEventListener('scroll',()=>{stBtn.classList.toggle('visible',window.scrollY>300);},{passive:true});
function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'});}
setInterval(()=>{document.querySelectorAll('.pdot.on').forEach(d=>{d.style.transform='scale(1.18)';setTimeout(()=>d.style.transform='',280);});},3000);

window.addEventListener('load',()=>{
  buildNotes();buildLeaves('lf1');buildLeaves('lf2');buildLeaves('lf3');buildLeaves('lf4');
  document.querySelectorAll('img').forEach(img=>{
    if(img.complete&&img.naturalWidth>0)img.classList.add('loaded');
    else{img.addEventListener('load',()=>img.classList.add('loaded'));img.addEventListener('error',()=>{img.style.opacity='.3';img.classList.add('loaded');});}
  });
});
</script>
</body>
</html>
