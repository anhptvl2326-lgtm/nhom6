<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nh·∫≠t K√Ω ƒê√† L·∫°t ¬∑ L·ªõp 11L</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Dancing+Script:wght@400;600;700&family=Caveat:wght@400;600;700&family=Lora:ital,wght@0,400;0,600;1,400&family=EB+Garamond:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
<style>
:root {
  --forest-dark:#1e4430; --forest-green:#1a3c28; --leaf-green:#204e34;
  --mint-light:#2d5a40; --cream:#f9f7f0; --page-white:#fffef9;
  --ink-dark:#2c3e2c; --gold-accent:#c9a961; --beige:#d4b896;
  --g9:#162c1e; --g8:#1c3826; --g7:#24482e; --g6:#305c3a;
  --g5:#3e7249; --g4:#568c62; --g3:#7aaa88; --g2:#aeceba;
}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;overflow-x:hidden;}

/* Custom Cursor Trail Effect */
body{cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><circle cx="10" cy="10" r="8" fill="%233e7249" opacity="0.3"/></svg>') 10 10, auto;}

body{
  font-family:'EB Garamond',serif;
  background:
    radial-gradient(ellipse at 50% 20%, rgba(62,114,73,.12), transparent 60%),
    radial-gradient(ellipse at 80% 70%, rgba(30,68,48,.08), transparent 50%),
    radial-gradient(ellipse at 20% 80%, rgba(45,90,64,.1), transparent 55%),
    linear-gradient(180deg, #e8f4ed 0%, #d4e8dc 25%, #c5ddd0 50%, #d0e3d8 75%, #ddeee5 100%);
  min-height:100vh;
  display:flex;flex-direction:column;align-items:center;
  padding:40px 20px;
  position:relative;overflow-x:hidden;
}
body::before{
  content:'';position:fixed;inset:0;
  background-image:
    repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(122,170,136,.018) 3px,rgba(122,170,136,.018) 6px),
    repeating-linear-gradient(90deg,transparent,transparent 3px,rgba(122,170,136,.022) 3px,rgba(122,170,136,.022) 6px),
    radial-gradient(circle at 15% 25%,rgba(62,114,73,.04),transparent 45%),
    radial-gradient(circle at 85% 75%,rgba(62,114,73,.04),transparent 45%);
  opacity:.85;pointer-events:none;z-index:0;
  animation:paperGrain 12s ease-in-out infinite;
}
@keyframes paperGrain{0%,100%{opacity:.85;}50%{opacity:.65;}}
body::after{
  content:'';position:fixed;inset:0;
  background-image:
    radial-gradient(2px 2px at 12% 18%,rgba(201,169,97,.22),transparent),
    radial-gradient(1px 1px at 28% 45%,rgba(255,255,255,.12),transparent),
    radial-gradient(2px 2px at 58% 12%,rgba(201,169,97,.28),transparent),
    radial-gradient(1px 1px at 78% 68%,rgba(255,255,255,.14),transparent),
    radial-gradient(1px 1px at 22% 82%,rgba(201,169,97,.20),transparent),
    radial-gradient(2px 2px at 88% 38%,rgba(255,255,255,.16),transparent),
    radial-gradient(1px 1px at 45% 55%,rgba(201,169,97,.18),transparent),
    radial-gradient(2px 2px at 65% 75%,rgba(255,255,255,.12),transparent);
  animation:particlesDrift 35s linear infinite, particlesTwinkle 4s ease-in-out infinite;
  pointer-events:none;opacity:.5;z-index:1;
}
@keyframes particlesDrift{from{transform:translateY(0) translateX(0);}to{transform:translateY(-90px) translateX(50px);}}
@keyframes particlesTwinkle{0%,100%{opacity:.5;}50%{opacity:.7;}}
.book-container{
  position:relative;max-width:1200px;width:100%;
  perspective:2000px;z-index:10;
  animation:containerFadeIn 1.5s cubic-bezier(.4,0,.2,1);
}
@keyframes containerFadeIn{
  from{opacity:0;transform:translateY(60px) scale(.95);}
  to{opacity:1;transform:translateY(0) scale(1);}
}

/* ‚îÄ‚îÄ BOOK COVER ‚îÄ‚îÄ */
.book-cover{
  position:relative;
  background:
    repeating-linear-gradient(45deg,rgba(30,68,48,.08),rgba(30,68,48,.08) 3px,transparent 3px,transparent 6px),
    linear-gradient(135deg,#1e4430 0%,#1a3c28 30%,#204e34 60%,#172e1e 85%,#112218 100%);
  border-radius:8px;
  padding:70px 60px;
  box-shadow:0 30px 80px rgba(0,0,0,.6),inset 0 0 150px rgba(0,0,0,.4),inset 2px 2px 8px rgba(255,255,255,.1),inset -2px -2px 8px rgba(0,0,0,.4);
  border:8px ridge rgba(30,68,48,.5);
  margin-bottom:40px;
  transform-style:preserve-3d;
  animation:bookEntrance 1.8s cubic-bezier(.4,0,.2,1);
  overflow:visible;
  transition:transform .3s cubic-bezier(.4,0,.2,1), box-shadow .3s ease;
}
.book-cover:hover{
  box-shadow:0 35px 90px rgba(0,0,0,.65),inset 0 0 160px rgba(0,0,0,.45),inset 2px 2px 10px rgba(255,255,255,.15),inset -2px -2px 10px rgba(0,0,0,.45);
}
@keyframes bookEntrance{
  0%  {opacity:0;transform:rotateX(-40deg) translateY(-150px) scale(.8);}
  60% {opacity:1;transform:rotateX(10deg)  translateY(20px)   scale(1.05);}
  100%{opacity:1;transform:rotateX(0)      translateY(0)      scale(1);}
}
.book-cover::before{
  content:'';position:absolute;left:-15px;top:5%;bottom:5%;width:25px;
  background:linear-gradient(90deg,rgba(0,0,0,.6),rgba(30,68,48,.4) 30%,transparent);
  border-radius:4px 0 0 4px;box-shadow:inset 2px 0 5px rgba(0,0,0,.5);
}
.book-cover::after{
  content:'';position:absolute;inset:25px;
  border:3px double rgba(201,169,97,.6);border-radius:4px;opacity:.8;
  box-shadow:inset 0 0 50px rgba(201,169,97,.2),0 0 30px rgba(201,169,97,.3),inset 2px 2px 4px rgba(255,255,255,.15),inset -2px -2px 4px rgba(0,0,0,.3);
  animation:embossGlow 5s ease-in-out infinite;pointer-events:none;
}
@keyframes embossGlow{
  0%,100%{opacity:.8;box-shadow:inset 0 0 50px rgba(201,169,97,.2),0 0 30px rgba(201,169,97,.3);}
  50%    {opacity:1; box-shadow:inset 0 0 60px rgba(201,169,97,.3),0 0 40px rgba(201,169,97,.5);}
}

.ff-wrap{position:absolute;inset:0;pointer-events:none;z-index:1;overflow:hidden;}
.ff{position:absolute;border-radius:50%;pointer-events:none;
  animation:ffRise var(--dur) var(--del) ease-in-out infinite;opacity:0;}
@keyframes ffRise{
  0%  {opacity:0;transform:translateY(0)     translateX(0)   scale(1);}
  20% {opacity:.82;}80%{opacity:.38;}
  100%{opacity:0;transform:translateY(-120px) translateX(var(--dx)) scale(.3);}
}

.bookmark{
  position:absolute;top:0;right:12%;width:60px;height:180px;
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  clip-path:polygon(0 0,100% 0,100% 75%,50% 100%,0 75%);
  box-shadow:0 12px 35px rgba(30,68,48,.6),inset 0 2px 0 rgba(255,255,255,.4);
  z-index:3;animation:bookmarkSway 6s ease-in-out infinite;
}
.bookmark::before{content:'üåø';position:absolute;top:20px;left:50%;transform:translateX(-50%);font-size:2rem;animation:leafSpin 8s linear infinite;}
@keyframes bookmarkSway{0%,100%{transform:rotate(0);}50%{transform:rotate(4deg);}}
@keyframes leafSpin{from{transform:translateX(-50%) rotate(0);}to{transform:translateX(-50%) rotate(360deg);}}

.cover-content{position:relative;z-index:2;text-align:center;color:var(--cream);}

.cover-badge{
  display:inline-flex;align-items:center;gap:10px;
  background:rgba(62,114,73,.14);border:1px solid rgba(62,114,73,.34);
  color:var(--g2);padding:10px 32px;border-radius:50px;
  font-size:.95rem;font-family:'Playfair Display',serif;letter-spacing:.20em;
  margin-bottom:26px;animation:fU 1.2s ease .12s both;
}
.cover-icon{
  font-size:7rem;margin-bottom:30px;display:inline-block;
  animation:iconFloat 5s ease-in-out infinite,iconGlow 3s ease-in-out infinite,iconRotate 20s linear infinite,fU 1.2s ease .3s both;
  filter:drop-shadow(0 15px 40px rgba(62,114,73,.8)) drop-shadow(0 0 60px rgba(201,169,97,.6)) drop-shadow(0 25px 80px rgba(0,0,0,.4));
}
@keyframes iconFloat{0%,100%{transform:translateY(0) rotate(-8deg) scale(1);}50%{transform:translateY(-25px) rotate(8deg) scale(1.15);}}
@keyframes iconGlow{
  0%,100%{filter:drop-shadow(0 15px 40px rgba(62,114,73,.8)) drop-shadow(0 0 60px rgba(201,169,97,.6));}
  50%    {filter:drop-shadow(0 20px 60px rgba(62,114,73,1))  drop-shadow(0 0 100px rgba(201,169,97,.9));}
}
@keyframes iconRotate{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}

.cover-title{
  font-family:'Playfair Display',serif;font-size:5rem;font-weight:800;
  margin-bottom:25px;letter-spacing:.08em;
  text-shadow:0 0 30px rgba(62,114,73,.9),0 6px 20px rgba(0,0,0,.8),0 0 80px rgba(201,169,97,.5),2px 2px 0 rgba(0,0,0,.3);
  animation:titleShimmer 4s ease-in-out infinite,titleFloat 6s ease-in-out infinite,fU 1.2s ease .48s both;
}
@keyframes titleShimmer{
  0%,100%{text-shadow:0 0 30px rgba(62,114,73,.9),0 6px 20px rgba(0,0,0,.8),0 0 80px rgba(201,169,97,.5);}
  50%    {text-shadow:0 0 50px rgba(62,114,73,1),0 6px 25px rgba(0,0,0,.9),0 0 100px rgba(201,169,97,.8),0 0 120px rgba(255,255,255,.3);}
}
@keyframes titleFloat{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}

.cover-subtitle{
  font-family:'Dancing Script',cursive;font-size:2.3rem;
  margin-bottom:45px;opacity:.95;
  text-shadow:0 4px 15px rgba(0,0,0,.7);
  animation:fU 1.2s ease .66s both;
}
.cover-quote{
  font-size:1.4rem;line-height:2;max-width:750px;margin:0 auto 60px;
  opacity:.92;font-style:italic;font-family:'Cormorant Garamond',serif;
  text-shadow:0 2px 10px rgba(0,0,0,.5);
  animation:fU 1.2s ease .82s both;
}

.open-book-btn{
  display:inline-block;padding:20px 55px;
  background:
    linear-gradient(135deg,#2d5a40,#3e7249),
    linear-gradient(45deg,transparent 40%,rgba(255,255,255,.2) 50%,transparent 60%);
  background-size:100% 100%,200% 200%;
  color:#fff;text-decoration:none;font-weight:700;font-size:1.3rem;border-radius:50px;
  box-shadow:0 12px 35px rgba(30,68,48,.6),inset 0 2px 0 rgba(255,255,255,.5),0 0 40px rgba(62,114,73,.4);
  transition:all .5s cubic-bezier(.4,0,.2,1);
  animation:fU 1.2s ease 1s both,btnPulse 3s ease-in-out infinite,btnShimmer 4s linear infinite;
  font-family:'Playfair Display',serif;letter-spacing:.06em;
  border:3px solid rgba(62,114,73,.6);position:relative;overflow:hidden;cursor:pointer;
  transform-style:preserve-3d;
}
.open-book-btn.opening{
  pointer-events:none;
  opacity:0.7;
}
.open-book-btn:hover{
  transform:translateY(-8px) scale(1.1);
  box-shadow:0 20px 60px rgba(30,68,48,.8),0 0 60px rgba(62,114,73,.9),0 0 100px rgba(201,169,97,.6);
  letter-spacing:.08em;
}
@keyframes btnShimmer{0%{background-position:0% 0%,0% 0%;}100%{background-position:0% 0%,200% 200%;}}
.open-book-btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;
  background:radial-gradient(circle,rgba(255,255,255,.6),transparent 70%);
  border-radius:50%;transform:translate(-50%,-50%);transition:width .7s,height .7s;}
.open-book-btn::after{
  content:'';position:absolute;inset:-3px;
  background:linear-gradient(45deg,transparent,rgba(255,255,255,.5),transparent);
  border-radius:50px;opacity:0;animation:borderShine 3s linear infinite;
}
@keyframes borderShine{
  0%  {transform:translateX(-100%) rotate(45deg);opacity:0;}
  50% {opacity:1;}
  100%{transform:translateX(100%) rotate(45deg);opacity:0;}
}

@keyframes btnPulse{
  0%,100%{box-shadow:0 12px 35px rgba(30,68,48,.6),inset 0 2px 0 rgba(255,255,255,.5),0 0 40px rgba(62,114,73,.4);}
  50%    {box-shadow:0 15px 45px rgba(30,68,48,.8),inset 0 2px 0 rgba(255,255,255,.7),0 0 60px rgba(62,114,73,.7);}
}
@keyframes fU{from{opacity:0;transform:translateY(30px);}to{opacity:1;transform:translateY(0);}}
.open-book-btn span{position:relative;z-index:1;}

/* ‚îÄ‚îÄ BOOK PAGES ‚îÄ‚îÄ */
.book-pages{
  position:relative;
  background:linear-gradient(135deg,#f9f7f0 0%,#f5f2ea 50%,#ede8dc 100%);
  border-radius:12px;
  box-shadow:0 25px 70px rgba(30,68,48,.35),inset 0 0 120px rgba(249,247,240,.6);
  overflow:hidden;
  animation:bookPagesOpen 1s cubic-bezier(.4,0,.2,1);
}
@keyframes bookPagesOpen{
  from{opacity:0;transform:perspective(1000px) rotateY(-15deg) scale(.95);}
  to{opacity:1;transform:perspective(1000px) rotateY(0) scale(1);}
}

/* ‚îÄ‚îÄ PAGE ‚îÄ‚îÄ */
.page{
  background:
    repeating-linear-gradient(0deg,transparent,transparent 31px,rgba(201,169,97,.06) 31px,rgba(201,169,97,.06) 32px),
    linear-gradient(135deg,#f9f7f0 0%,#f5ebe0 50%,#ede8dc 100%);
  padding:90px 110px;
  min-height:700px;
  position:relative;
  border-left:70px solid rgba(30,68,48,.08);
  animation:pageTurn 1s cubic-bezier(.4,0,.2,1);
  transform-origin:left center;
  box-shadow:inset 0 0 100px rgba(30,68,48,.05);
}
@keyframes pageTurn{
  0%  {transform:perspective(2000px) rotateY(-100deg);opacity:0;filter:blur(10px);}
  60% {transform:perspective(2000px) rotateY(10deg);  opacity:1;filter:blur(0);}
  100%{transform:perspective(2000px) rotateY(0);      opacity:1;filter:blur(0);}
}
.page::before{
  content:'';position:absolute;inset:0;
  background-image:
    radial-gradient(ellipse at 15% 20%,rgba(62,114,73,.08),transparent 35%),
    radial-gradient(ellipse at 85% 80%,rgba(30,68,48,.06),transparent 40%),
    radial-gradient(circle at 50% 10%,rgba(201,169,97,.08),transparent 30%),
    radial-gradient(circle at 30% 70%,rgba(62,114,73,.05),transparent 25%);
  pointer-events:none;animation:agingSpots 15s ease-in-out infinite;
}
@keyframes agingSpots{0%,100%{opacity:.6;}50%{opacity:.8;}}
.page::after{
  content:'';position:absolute;left:30px;top:50%;transform:translateY(-50%);
  width:12px;height:85%;
  background:
    radial-gradient(circle,rgba(30,68,48,.25) 40%,rgba(0,0,0,.08) 40%,transparent 45%),
    radial-gradient(circle,rgba(30,68,48,.25) 40%,rgba(0,0,0,.08) 40%,transparent 45%),
    radial-gradient(circle,rgba(30,68,48,.25) 40%,rgba(0,0,0,.08) 40%,transparent 45%);
  background-size:12px 12px;
  background-position:0 0,0 50%,0 100%;
  background-repeat:no-repeat;
  filter:drop-shadow(1px 1px 2px rgba(0,0,0,.2));
}

.leaf-layer{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:1;}
.lf{position:absolute;font-size:var(--lsz);pointer-events:none;
  animation:lfDrift var(--ldur) var(--ldel) ease-in-out infinite;opacity:0;}
@keyframes floatSlow{
  0%,100%{transform:translateY(0) rotate(0deg);opacity:.15;}
  50%{transform:translateY(-30px) rotate(10deg);opacity:.25;}
}
@keyframes lfDrift{
  0%  {opacity:0;transform:translateY(20px) translateX(0) rotate(0deg) scale(1);}
  18% {opacity:.52;}82%{opacity:.25;}
  100%{opacity:0;transform:translateY(-140px) translateX(var(--lx)) rotate(200deg) scale(.3);}
}

.page-content{position:relative;z-index:1;padding-bottom:40px;}

.page-number{
  position:absolute;bottom:100px;right:55px;
  font-family:'Caveat',cursive;font-size:1.8rem;
  color:var(--g5);
  background:rgba(249,247,240,.6);
  padding:8px 20px;border-radius:50px;
  border:2px solid rgba(62,114,73,.25);
  box-shadow:0 4px 12px rgba(30,68,48,.15);
  animation:pageNumPulse 3s ease-in-out infinite;
  z-index:5;
}
@keyframes pageNumPulse{
  0%,100%{transform:scale(1);opacity:.6;}
  50%{transform:scale(1.08);opacity:.9;}
}

.section-title{
  font-family:'Playfair Display',serif;font-size:4rem;font-weight:700;
  color:var(--forest-dark);text-align:center;margin-bottom:35px;
  position:relative;display:inline-block;width:100%;
  animation:writeIn 1.2s ease-out;
}
@keyframes writeIn{from{opacity:0;transform:translateX(-60px);}to{opacity:1;transform:translateX(0);}}
.section-title::after{
  content:'';position:absolute;bottom:-12px;left:50%;transform:translateX(-50%);
  width:0;height:4px;
  background:linear-gradient(90deg,transparent,#2d5a40,#3e7249,#568c62,transparent);
  animation:lineDraw 2s ease-out forwards;box-shadow:0 2px 15px rgba(30,68,48,.4);
}
@keyframes lineDraw{from{width:0;}to{width:250px;}}
.section-title.grad-h{
  background:linear-gradient(118deg,var(--g7) 0%,var(--g5) 45%,var(--forest-dark) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.section-intro{
  text-align:center;max-width:950px;margin:0 auto 60px;
  font-size:1.75rem;line-height:2.2;color:var(--forest-green);font-style:italic;
  font-family:'EB Garamond',serif;animation:fU 1s ease .5s both;
  font-weight:400;
}

/* ‚îÄ‚îÄ STORY CARDS ‚îÄ‚îÄ */
.story-grid{display:grid;gap:48px;margin-top:60px;}
.story-card{
  display:grid;grid-template-columns:1fr 1fr;gap:50px;align-items:center;
  padding:40px;
  background:
    repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(30,68,48,.04) 2px,rgba(30,68,48,.04) 4px),
    linear-gradient(135deg,rgba(249,247,240,.8),rgba(255,254,249,.6));
  border-radius:16px;transition:all .6s cubic-bezier(.4,0,.2,1);
  border:2px solid rgba(30,68,48,.3);position:relative;overflow:hidden;
  box-shadow:0 8px 32px rgba(30,68,48,.12);
  transform-style:preserve-3d;
}
.story-card::after{
  content:'';position:absolute;inset:0;
  background:radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(122,170,136,.1), transparent 50%);
  opacity:0;transition:opacity .4s ease;pointer-events:none;
}
.story-card:hover::after{opacity:1;}
.story-card:nth-child(even) .story-image{order:2;}
.story-card:nth-child(even) .story-text{order:1;}
.story-card:hover{
  transform:translateY(-12px) rotate(.3deg) scale(1.02);
  box-shadow:0 25px 70px rgba(30,68,48,.2),0 10px 30px rgba(62,114,73,.15);
  border-color:rgba(62,114,73,.5);
}
.story-image{
  position:relative;border-radius:8px;overflow:hidden;aspect-ratio:4/3;
  box-shadow:0 8px 32px rgba(30,68,48,.25),inset 0 0 0 8px rgba(250,246,240,.8),inset 0 0 0 10px rgba(30,68,48,.3);
  border:3px solid var(--beige);
}

.story-image .stamp {
  position: absolute;
  top: 28px;
  right: 28px;
  width: 70px;
  height: 70px;
  background: linear-gradient(142deg, #d44e36, #c44536, #b83d2d);
  border: 4px dashed rgba(255,255,255,0.75);
  border-radius: 7px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.2rem;
  transform: rotate(18deg);
  box-shadow: 0 5px 15px rgba(196,69,54,0.5);
  z-index: 5;
  animation: stampBounce 6s ease-in-out infinite;
}

@keyframes stampBounce {
  0%, 100% { 
    transform: rotate(18deg) scale(1);
    box-shadow: 0 5px 15px rgba(196,69,54,0.5);
  }
  50% { 
    transform: rotate(16deg) scale(1.1);
    box-shadow: 0 7px 22px rgba(196,69,54,0.7);
  }
}
.story-image img{
  width:100%;height:100%;object-fit:cover;
  transition:all .8s cubic-bezier(.4,0,.2,1);
  filter:sepia(.05) contrast(1.05) brightness(1);
  cursor:pointer;
}
.story-card:hover .story-image img{
  transform:scale(1.12) rotate(-1deg);
  filter:sepia(.12) contrast(1.1) brightness(1.05);
}
.story-text{font-size:1.5rem;line-height:2.1;color:var(--ink-dark);font-family:'EB Garamond',serif;font-weight:400;}
.story-text p{margin-bottom:18px;font-family:'EB Garamond',serif;}
.story-text p:last-child{margin-bottom:0;}
.story-text .lead{font-size:1.65rem;font-style:italic;font-family:'EB Garamond',serif;color:var(--ink-dark);margin-bottom:22px;line-height:2.1;font-weight:400;}

/* ‚îÄ‚îÄ POLAROID PHOTOS ‚îÄ‚îÄ */
.photo-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:50px;margin:60px 0;}
.polaroid{
  background:#fff;padding:18px 18px 70px;
  box-shadow:0 12px 35px rgba(30,68,48,.3);
  transform:rotate(-3deg);
  transition:all .6s cubic-bezier(.4,0,.2,1);
  cursor:pointer;
  animation:photoAppear 1s ease-out;
  position:relative;
  transform-style:preserve-3d;
}
@keyframes photoAppear{from{opacity:0;transform:rotate(-15deg) scale(.7);}to{opacity:1;transform:rotate(-3deg) scale(1);}}
.polaroid:nth-child(even){transform:rotate(3deg);}
.polaroid:hover{
  transform:rotate(0) scale(1.1) translateY(-18px)!important;
  box-shadow:0 30px 70px rgba(30,68,48,.45),0 0 40px rgba(122,170,136,.2);
  z-index:10;
}
.polaroid img{width:100%;height:270px;object-fit:cover;display:block;filter:sepia(.05) contrast(1.05);transition:filter .6s;cursor:pointer;}
.polaroid:hover img{filter:sepia(.12) contrast(1.1);}
.polaroid-caption{
  margin-top:18px;text-align:center;font-family:'Caveat',cursive;
  font-size:1.4rem;color:var(--forest-green);
  position:absolute;bottom:18px;left:0;right:0;font-weight:600;
}
.polaroid::before{
  content:'';position:absolute;top:-12px;left:50%;transform:translateX(-50%);
  width:90px;height:28px;
  background:repeating-linear-gradient(45deg,rgba(30,68,48,.5),rgba(30,68,48,.5) 5px,rgba(255,255,255,.3) 5px,rgba(255,255,255,.3) 10px);
  border:1px solid rgba(30,68,48,.2);box-shadow:0 3px 8px rgba(0,0,0,.15);opacity:.8;
}
.img-text-overlay{
  position:absolute;top:0;left:0;right:0;bottom:70px;
  background:linear-gradient(to bottom,rgba(30,68,48,.88),rgba(30,68,48,.75));
  opacity:0;display:flex;align-items:center;justify-content:center;padding:20px;
  transition:opacity .5s ease;pointer-events:none;
}
.polaroid:hover .img-text-overlay{opacity:1;}
.img-text-content{
  color:#fff;text-align:center;font-family:'EB Garamond',serif;font-size:1.15rem;
  line-height:1.7;font-style:italic;transform:translateY(20px);transition:transform .5s ease;
  text-shadow:0 2px 8px rgba(0,0,0,.3);
}
.polaroid:hover .img-text-content{transform:translateY(0);}

/* ‚îÄ‚îÄ JOURNEY TABS (doc2 style) ‚îÄ‚îÄ */
.journey-tabs{display:flex;gap:14px;justify-content:center;margin-bottom:36px;flex-wrap:wrap;}
.journey-tab{
  padding:16px 40px;background:rgba(255,255,255,.65);color:var(--ink-dark);
  border:2px solid rgba(62,114,73,.25);border-radius:50px;
  font-family:'Playfair Display',serif;font-weight:600;font-size:1.15rem;
  cursor:pointer;position:relative;overflow:hidden;
  backdrop-filter:blur(10px);
  box-shadow:0 2px 10px rgba(14,30,20,.07);
  transition:all .4s cubic-bezier(.4,0,.2,1);
  transform-style:preserve-3d;
}
.journey-tab::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(45deg,transparent,rgba(122,170,136,.20),transparent);
  transform:translateX(-100%);transition:transform .55s;
}
.journey-tab:hover::after{transform:translateX(100%);}
.journey-tab:hover{
  border-color:var(--g5);
  transform:translateY(-5px) scale(1.05);
  box-shadow:0 8px 20px rgba(14,30,20,.12);
}
.journey-tab.active{
  background:linear-gradient(130deg,var(--g7),var(--g5));color:#fff;border-color:transparent;
  box-shadow:0 12px 32px rgba(30,68,48,.40),0 0 28px rgba(62,114,73,.22);
  animation:tabPl 3s ease-in-out infinite;
}
@keyframes tabPl{
  0%,100%{box-shadow:0 12px 32px rgba(30,68,48,.40),0 0 28px rgba(62,114,73,.22);}
  50%    {box-shadow:0 12px 40px rgba(30,68,48,.62),0 0 42px rgba(62,114,73,.42);}
}
.day-content{display:none;}
.day-content.active{display:block;animation:pageFade .8s ease;}
@keyframes pageFade{from{opacity:0;transform:translateY(30px);}to{opacity:1;transform:translateY(0);}}

/* ‚îÄ‚îÄ ALBUM (doc2 style) ‚îÄ‚îÄ */
.awrap{position:relative;margin-bottom:32px;}
.atrack{
  display:flex;gap:26px;overflow-x:auto;padding:20px 14px 36px;
  scroll-snap-type:x mandatory;scrollbar-width:thin;
  scrollbar-color:rgba(62,114,73,.36) transparent;cursor:grab;
}
.atrack:active{cursor:grabbing;}
.atrack::-webkit-scrollbar{height:5px;}
.atrack::-webkit-scrollbar-thumb{background:rgba(62,114,73,.34);border-radius:3px;}
.aarr{
  position:absolute;top:50%;transform:translateY(-58%);
  width:44px;height:44px;background:rgba(255,255,255,.88);
  border:2px solid rgba(62,114,73,.28);border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:1.2rem;color:var(--g7);cursor:pointer;z-index:9;
  box-shadow:0 2px 10px rgba(14,30,20,.07);backdrop-filter:blur(10px);user-select:none;transition:all .3s;
}
.aarr:hover{background:rgba(174,206,186,.30);border-color:rgba(62,114,73,.54);transform:translateY(-58%) scale(1.12);}
.aarr.ap{left:4px;}.aarr.an{right:4px;}

/* polaroid in album (doc2 style) */
.pola{
  flex:0 0 auto;background:#fff;padding:18px 18px 64px;
  box-shadow:0 10px 32px rgba(14,30,20,.15),0 0 0 .5px rgba(0,0,0,.05);
  border-radius:3px;cursor:pointer;position:relative;
  transition:all .50s cubic-bezier(.16,.84,.44,1);scroll-snap-align:start;
}
.pola::before{content:'';position:absolute;top:-10px;left:50%;
  transform:translateX(-50%) rotate(-1.5deg);
  width:78px;height:22px;background:rgba(174,206,186,.70);
  border:1px solid rgba(122,170,136,.48);border-radius:2px;box-shadow:0 1px 6px rgba(0,0,0,.07);}
.pola:nth-child(1){transform:rotate(-2.2deg);}
.pola:nth-child(2){transform:rotate( 1.9deg);}
.pola:nth-child(3){transform:rotate(-1.6deg);}
.pola:nth-child(4){transform:rotate( 2.4deg);}
.pola:hover{transform:rotate(0) scale(1.08) translateY(-14px)!important;
  box-shadow:0 24px 60px rgba(14,30,20,.26),0 0 0 3px rgba(62,114,73,.32);z-index:20;}
.pola img{width:300px;height:240px;object-fit:cover;display:block;border-radius:2px;
  filter:saturate(1.05) contrast(1.03);transition:filter .5s;}
.pola.wide img{width:300px;height:240px;}
.pola:hover img{filter:saturate(1.18) contrast(1.06);}
.pcap{position:absolute;bottom:16px;left:0;right:0;text-align:center;
  font-family:'Dancing Script',cursive;font-size:1.2rem;color:var(--g7);padding:0 12px;font-weight:600;}

/* diary note (doc2 style) */
.dnote{
  padding:32px 40px;
  background:linear-gradient(135deg,rgba(174,206,186,.28),rgba(178,222,192,.20));
  border-left:5px solid var(--g5);border-radius:0 16px 16px 0;
  margin-bottom:18px;position:relative;overflow:hidden;transition:all .42s ease;
}
.dnote::before{content:'‚ú¶';position:absolute;left:-12px;top:16px;
  font-size:1.2rem;color:var(--g5);animation:stTw 3.2s ease-in-out infinite;}
@keyframes stTw{0%,100%{opacity:.40;transform:scale(1) rotate(0);}50%{opacity:1;transform:scale(1.6) rotate(28deg);}}
.dnote:hover{transform:translateX(10px);border-left-color:var(--g6);}
.nlbl{font-family:'Dancing Script',cursive;font-size:1.4rem;color:var(--g6);margin-bottom:12px;display:block;font-weight:600;}
.ntxt{font-size:1.55rem;line-height:2.1;color:var(--ink-dark);font-family:'EB Garamond',serif;font-weight:400;}

/* ‚îÄ‚îÄ MEANING CARDS ‚îÄ‚îÄ */
.meaning-grid{
  display:flex;
  justify-content:center;
  align-items:stretch;
  gap:40px;
  margin:60px 0;
  flex-wrap:wrap;
}

.meaning-card{
  background:
    radial-gradient(ellipse at 30% 20%, rgba(174,206,186,.25), transparent 60%),
    radial-gradient(ellipse at 70% 80%, rgba(122,170,136,.2), transparent 60%),
    linear-gradient(135deg, rgba(249,247,240,.98) 0%, rgba(240,245,242,.95) 50%, rgba(232,240,236,.92) 100%);
  padding:55px 50px;
  border-radius:50%;
  text-align:center;
  border:5px solid rgba(62,114,73,.35);
  box-shadow:
    0 15px 45px rgba(30,68,48,.18),
    0 8px 20px rgba(62,114,73,.12),
    inset 0 2px 15px rgba(255,255,255,.6),
    inset 0 -2px 15px rgba(122,170,136,.15);
  transition:all .6s cubic-bezier(.4,0,.2,1);
  animation:cardFlip 1s ease;

  width:380px;
  min-height:380px;
  height:auto;

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  position:relative;
  overflow:visible;
}

.meaning-card::before{
  content:'';
  position:absolute;
  inset:-10px;
  background:conic-gradient(
    from 0deg,
    #568c62 0deg,
    #7aaa88 60deg,
    #aeceba 120deg,
    #568c62 180deg,
    #7aaa88 240deg,
    #aeceba 300deg,
    #568c62 360deg
  );
  border-radius:50%;
  z-index:-1;
  opacity:0;
  animation:rotateBorder 10s linear infinite;
  transition:opacity .5s ease;
  filter:blur(8px);
}
.meaning-card:hover::before{ 
  opacity:.6;
  box-shadow:0 0 50px rgba(122,170,136,.4);
}

@keyframes rotateBorder{
  from{transform:rotate(0deg);}
  to{transform:rotate(360deg);}
}

.meaning-card:hover{
  transform:translateY(-16px) scale(1.05);
  box-shadow:
    0 35px 80px rgba(30,68,48,.25),
    0 15px 40px rgba(62,114,73,.2),
    0 0 60px rgba(122,170,136,.25),
    inset 0 2px 20px rgba(255,255,255,.8),
    inset 0 -2px 20px rgba(122,170,136,.25);
  border-color:rgba(86,140,98,.65);
}

@keyframes cardFlip{
  from{opacity:0;transform:rotateY(-100deg) scale(.8);}
  to{opacity:1;transform:rotateY(0) scale(1);}
}

.meaning-icon{
  font-size:5rem;
  margin-bottom:22px;
  display:inline-block;
  animation:iconBounce 3s ease-in-out infinite;
  filter:drop-shadow(0 6px 15px rgba(30,68,48,.3));
  position:relative;
  z-index:2;
  flex-shrink:0;
}
.meaning-card:hover .meaning-icon{ 
  animation:iconSpinFloat 1.5s ease-in-out infinite;
  filter:drop-shadow(0 10px 25px rgba(62,114,73,.6));
}

.meaning-card:nth-child(2) .meaning-icon{ animation-delay:.5s; }
.meaning-card:nth-child(3) .meaning-icon{ animation-delay:1s; }

@keyframes iconBounce{
  0%,100%{transform:translateY(0) scale(1);}
  50%{transform:translateY(-14px) scale(1.05);}
}

@keyframes iconSpinFloat{
  0%,100%{
    transform:rotate(0deg) scale(1) translateY(0);
  }
  25%{
    transform:rotate(10deg) scale(1.1) translateY(-8px);
  }
  50%{
    transform:rotate(0deg) scale(1.15) translateY(-12px);
  }
  75%{
    transform:rotate(-10deg) scale(1.1) translateY(-8px);
  }
}

.meaning-card h4{
  font-family:'Playfair Display',serif;
  font-size:1.9rem;
  color:var(--forest-dark);
  margin-bottom:16px;
  font-weight:800;
  position:relative;
  z-index:2;
  line-height:1.3;
  text-shadow:0 2px 8px rgba(30,68,48,.1);
}

.meaning-card:hover h4{
  color:var(--forest-green);
  text-shadow:0 3px 12px rgba(30,68,48,.2);
}

.meaning-card p{
  font-size:1.35rem;
  line-height:1.95;
  color:var(--ink-dark);
  position:relative;
  z-index:2;
  font-family:'EB Garamond',serif;
  font-weight:400;
  max-width:280px;
}

/* ‚îÄ‚îÄ QUOTE BOX ‚îÄ‚îÄ */
.quote-box{
  background:linear-gradient(135deg,rgba(249,247,240,.9),rgba(249,247,240,.7));
  border-left:6px solid #2d5a40;border-right:6px solid #3e7249;
  padding:50px 60px;margin:60px 0;position:relative;
  animation:quoteReveal 1.2s ease;
  border-radius:8px;
  box-shadow:0 8px 25px rgba(30,68,48,.15);
  transition:all .5s cubic-bezier(.4,0,.2,1);
}
.quote-box:hover{
  box-shadow:0 12px 35px rgba(30,68,48,.2);
  transform:translateY(-4px);
}
@keyframes quoteReveal{
  from{opacity:0;transform:scale(.92) translateY(30px);}
  to{opacity:1;transform:scale(1) translateY(0);}
}
.quote-box::before{content:'"';position:absolute;top:-30px;left:30px;font-size:10rem;line-height:1;font-family:'Playfair Display',serif;color:#3e7249;opacity:.3;}
.quote-text{font-family:'EB Garamond',serif;font-size:2.6rem;color:var(--forest-dark);line-height:2;text-align:center;position:relative;z-index:1;font-style:italic;font-weight:400;}

.callout{
  padding:26px 38px;margin:32px auto;max-width:920px;
  background:rgba(62,114,73,.18);border-left:6px solid #2d5a40;border-radius:0 14px 14px 0;
  font-family:'EB Garamond',serif;font-size:2.1rem;line-height:2;
  color:var(--forest-dark);font-style:italic;font-weight:400;
}

/* ‚îÄ‚îÄ CLOSING CARDS (doc2 style) ‚îÄ‚îÄ */
.cgrid{display:flex;flex-direction:column;gap:36px;margin:32px 0;}
.ccard{
  display:flex;flex-direction:column;gap:26px;
  padding:34px 32px;background:rgba(255,255,255,.56);backdrop-filter:blur(12px);
  border-radius:20px;border:2px solid rgba(62,114,73,.14);
  box-shadow:0 8px 30px rgba(14,30,20,.12);transition:all .52s cubic-bezier(.16,.84,.44,1);
  position:relative;overflow:hidden;
}
.ccard::after{content:'';position:absolute;top:0;right:0;width:0;height:0;
  border-style:solid;border-width:0;
  border-color:transparent rgba(62,114,73,.24) transparent transparent;
  transition:border-width .4s,opacity .4s;opacity:0;}
.ccard:hover::after{border-width:0 62px 62px 0;opacity:1;}
.ccard:hover{transform:translateY(-5px);box-shadow:0 36px 90px rgba(14,30,20,.24);border-color:rgba(62,114,73,.32);}
.ci{border-radius:14px;overflow:hidden;aspect-ratio:3/2;
  box-shadow:0 8px 30px rgba(14,30,20,.12),0 0 0 8px #fff,0 0 0 10px rgba(62,114,73,.18);
  border:2px solid rgba(62,114,73,.36);background:var(--beige);}
.ci img{width:100%;height:100%;object-fit:cover;cursor:pointer;
  transition:all .74s cubic-bezier(.16,.84,.44,1);filter:saturate(1.05);}
.ccard:hover .ci img{transform:scale(1.08);filter:saturate(1.16);}
.ct p{font-size:1.5rem;line-height:2.2;color:var(--ink-dark);margin-bottom:16px;font-family:'EB Garamond',serif;font-weight:400;}
.ct p:last-child{margin-bottom:0;}

/* ‚îÄ‚îÄ PAGE NAV ‚îÄ‚îÄ */
.page-nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:50px;
  padding-top:30px;
  padding-bottom:20px;
  border-top:3px solid rgba(30,68,48,.3);
  position:relative;
  z-index:10;
}
.nav-btn{
  padding:14px 35px;background:linear-gradient(135deg,#2d5a40,#3e7249);
  color:#fff;font-weight:700;border-radius:50px;
  box-shadow:0 6px 18px rgba(30,68,48,.5);transition:all .4s ease;
  font-family:'Playfair Display',serif;border:2px solid rgba(62,114,73,.6);cursor:pointer;
  position:relative;overflow:hidden;
}
.nav-btn::before{content:'';position:absolute;top:50%;left:50%;width:0;height:0;
  background:radial-gradient(circle,rgba(255,255,255,.6),transparent 70%);
  border-radius:50%;transform:translate(-50%,-50%);transition:width .7s,height .7s;}
.nav-btn:hover::before{width:400px;height:400px;}
.nav-btn:hover{transform:translateY(-4px);box-shadow:0 10px 25px rgba(30,68,48,.7);}
.nav-btn.disabled{opacity:.3;pointer-events:none;}

.prog{display:flex;align-items:center;justify-content:center;gap:14px;margin-bottom:20px;}
.pdot{width:9px;height:9px;border-radius:50%;cursor:pointer;background:rgba(30,68,48,.22);border:1.5px solid rgba(30,68,48,.30);transition:all .32s;}
.pdot.on{width:30px;border-radius:5px;background:linear-gradient(90deg,#2d5a40,#3e7249);border-color:transparent;box-shadow:0 2px 10px rgba(30,68,48,.30);}
.pdot:hover:not(.on){background:rgba(30,68,48,.40);transform:scale(1.3);}

.rdiv{display:flex;align-items:center;gap:18px;margin:44px 0;opacity:.28;}
.rdiv::before,.rdiv::after{content:'';flex:1;height:2px;background:linear-gradient(90deg,transparent,#2d5a40,transparent);}
.sig{text-align:center;font-family:'Dancing Script',cursive;font-size:3rem;color:var(--forest-green);opacity:.7;margin:8px 0 44px;}
.dclouds{text-align:center;font-size:1.6rem;letter-spacing:22px;opacity:.26;margin:14px 0;animation:dcWv 8s ease-in-out infinite;}
@keyframes dcWv{0%,100%{transform:translateY(0);opacity:.24;}50%{transform:translateY(-7px);opacity:.44;}}

/* ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ */
.image-modal{
  position:fixed;inset:0;background:rgba(30,68,48,.96);backdrop-filter:blur(15px);
  display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;transition:opacity .5s;z-index:1000;
}
.image-modal.active{opacity:1;pointer-events:auto;}
.image-modal img{
  max-width:92%;max-height:92%;
  box-shadow:0 35px 90px rgba(0,0,0,.8),0 0 0 18px #fff,0 0 0 20px rgba(62,114,73,.6);
  animation:modalZoom .6s cubic-bezier(.4,0,.2,1);border-radius:8px;
}
@keyframes modalZoom{from{opacity:0;transform:scale(.6) rotate(-8deg);}to{opacity:1;transform:scale(1) rotate(0);}}
.modal-close{
  position:absolute;top:35px;right:35px;width:55px;height:55px;
  background:rgba(255,255,255,.25);border:3px solid rgba(62,114,73,.8);
  border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-size:2rem;color:#fff;cursor:pointer;transition:all .4s;backdrop-filter:blur(10px);z-index:1001;
}
.modal-close:hover{background:rgba(62,114,73,.6);transform:rotate(90deg) scale(1.15);}

.scroll-top{
  position:fixed;bottom:30px;right:30px;width:65px;height:65px;
  background:linear-gradient(135deg,#2d5a40,#3e7249);
  border:3px solid #fff;border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-size:2rem;cursor:pointer;box-shadow:0 12px 35px rgba(30,68,48,.6);
  transition:all .4s;z-index:150;opacity:0;pointer-events:none;color:#fff;
}
.scroll-top.visible{opacity:1;pointer-events:auto;}
.scroll-top:hover{transform:translateY(-8px) scale(1.12);box-shadow:0 18px 50px rgba(30,68,48,.8);}

.loading-spinner{
  position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
  width:90px;height:90px;border:6px solid rgba(62,114,73,.2);border-top-color:#2d5a40;
  border-radius:50%;animation:spinnerRotate 1.2s linear infinite;z-index:10000;display:none;
}
.loading-spinner.active{display:block;}
.loading-spinner::after{content:'üåø';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:2rem;}
@keyframes spinnerRotate{to{transform:translate(-50%,-50%) rotate(360deg);}}

/* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
@media(max-width:1200px){
  .meaning-card{width:340px;min-height:340px;padding:50px 45px;}
  .meaning-card p{max-width:250px;font-size:1.25rem;}
}
@media(max-width:1024px){
  .page{padding:70px 70px;}
  .section-title{font-size:3.3rem;}
  .section-intro{font-size:1.55rem;}
  .story-text{font-size:1.35rem;}
  .meaning-grid{gap:30px;}
  .meaning-card{width:310px;min-height:310px;padding:45px 40px;}
  .meaning-card p{font-size:1.15rem;max-width:230px;}
  .ntxt{font-size:1.4rem;}
  .ct p{font-size:1.35rem;}
}
@media(max-width:768px){
  body{padding:25px 12px;}
  .book-cover{padding:50px 35px;border:6px solid rgba(30,68,48,.4);}
  .cover-title{font-size:3.5rem;}
  .cover-subtitle{font-size:1.8rem;}
  .page{padding:60px 35px;border-left:40px solid rgba(30,68,48,.08);}
  .section-title{font-size:3rem;}
  .section-intro{font-size:1.4rem;}
  .story-card{grid-template-columns:1fr!important;gap:32px;}
  .story-card:nth-child(even) .story-image{order:0;}
  .story-text{font-size:1.25rem;}
  .photo-grid{grid-template-columns:1fr;}
  .journey-tabs{flex-direction:column;}
  .journey-tab{width:100%;}
  .meaning-grid{flex-direction:column;align-items:center;}
  .meaning-card{border-radius:24px;width:100%;max-width:420px;min-height:auto;height:auto;padding:40px 35px;}
  .meaning-card p{max-width:100%;font-size:1.2rem;}
  .cgrid{gap:24px;}
  .ct p{font-size:1.25rem;}
  .ntxt{font-size:1.35rem;}
}
@media(max-width:480px){
  .page{padding:44px 22px;}
  .section-title{font-size:2.4rem;}
  .section-intro{font-size:1.25rem;}
  .story-text{font-size:1.15rem;}
  .quote-box{padding:36px 26px;}
  .quote-text{font-size:1.9rem;}
  .callout{font-size:1.75rem;}
  .sig{font-size:2.5rem;}
  .ct p{font-size:1.15rem;}
  .ntxt{font-size:1.25rem;}
}
</style>
</head>
<body>

<div class="loading-spinner" id="loadingSpinner"></div>

<div class="book-container" id="bookContainer">

  <!-- ‚ïê‚ïê COVER ‚ïê‚ïê -->
  <div class="book-cover" id="bookCover">
    <div class="bookmark"></div>
    <div class="ff-wrap" id="ffWrap"></div>
    <div class="cover-content">
      <div class="cover-badge">‚ú¶ &nbsp;M·ªëc K·ª∑ Ni·ªám Th·ª© 5 / 6&nbsp; ‚ú¶</div>
      <div class="cover-icon">üå≤</div>
      <h1 class="cover-title">NH·∫¨T K√ù ƒê√Ä L·∫†T</h1>
      <h2 class="cover-subtitle">D·∫•u ·∫•n kh√¥ng phai trong mi·ªÅn k√Ω ·ª©c l·ªõp 11L</h2>
      <p class="cover-quote">
        C√≥ nh·ªØng mi·ªÅn ƒë·∫•t ta ch·ªâ gh√© qua m·ªôt l·∫ßn trong ƒë·ªùi,<br>
        nh∆∞ng l·∫°i ·ªü l·∫°i r·∫•t l√¢u trong k√Ω ·ª©c...<br>
        ƒê√† L·∫°t c·ªßa l·ªõp 11L l√† m·ªôt mi·ªÅn nh∆∞ th·∫ø.
      </p>
      <a href="#" class="open-book-btn" id="openBookBtn">
        <span>üçÉ &nbsp;M·ªü Nh·∫≠t K√Ω&nbsp; üçÉ</span>
      </a>
    </div>
  </div>

  <!-- ‚ïê‚ïê PAGES ‚ïê‚ïê -->
  <div class="book-pages" id="bookPages" style="display:none;">

    <div class="prog" style="padding-top:24px;">
      <div class="pdot on" data-p="1"></div>
      <div class="pdot" data-p="2"></div>
      <div class="pdot" data-p="3"></div>
      <div class="pdot" data-p="4"></div>
    </div>

    <!-- ‚ïê‚ïê PAGE 1 ‚ïê‚ïê -->
    <div class="page" id="page1">
      <div class="leaf-layer" id="lf1"></div>
      <div class="page-content">
        <div class="dclouds">‚òÅÔ∏è &nbsp;&nbsp; ‚òÅÔ∏è &nbsp;&nbsp;&nbsp;&nbsp; ‚òÅÔ∏è</div>
        <h3 class="section-title grad-h">üåø Mi·ªÅn K√Ω ·ª®c M·ªü Ra</h3>
        <p class="section-intro">
          C√≥ nh·ªØng mi·ªÅn ƒë·∫•t ta ch·ªâ gh√© qua m·ªôt l·∫ßn trong ƒë·ªùi, nh∆∞ng l·∫°i ·ªü l·∫°i r·∫•t l√¢u trong k√Ω ·ª©c.<br>
          ƒê√† L·∫°t c·ªßa l·ªõp 11L l√† m·ªôt mi·ªÅn nh∆∞ th·∫ø.
        </p>
        
        <div class="story-grid">
          <div class="story-card">
            <div class="story-image">
              <div class="stamp">üèîÔ∏è</div>
              <img src="images/tongthe.jpg" alt="To√†n c·∫£nh ƒê√† L·∫°t" loading="lazy">
            </div>
            <div class="story-text">
              <p>ƒê√≥ l√† n∆°i s∆∞∆°ng s·ªõm giƒÉng m·ªù tr√™n nh·ªØng tri·ªÅn ƒë·ªìi, n∆°i r·ª´ng th√¥ng th√¨ th·∫ßm trong gi√≥, n∆°i nh·ªãp s·ªëng ch·∫≠m r√£i m·ªü ra nh·ªØng kho·∫£ng l·∫∑ng hi·∫øm hoi gi·ªØa nh·ªØng ng√†y h·ªçc t·∫≠p v·ªôi v√£.</p>
            </div>
          </div>
          
          <div class="story-card">
            <div class="story-image">
              <div class="stamp">üë•</div>
              <img src="images/tapthe.jpg" alt="T·∫≠p th·ªÉ l·ªõp 11L" loading="lazy">
            </div>
            <div class="story-text" style="max-width:480px;">
              <p>ƒê√† L·∫°t kh√¥ng ch·ªâ hi·ªán l√™n trong v·∫ª ƒë·∫πp th∆° m·ªông c·ªßa ph·ªë n√∫i, m√† c√≤n l√† kh√¥ng gian c·ªßa tri th·ª©c, c·ªßa l·ªãch s·ª≠, c·ªßa nh·ªØng gi√° tr·ªã b·ªÅn b·ªâ ƒë∆∞·ª£c b·ªìi ƒë·∫Øp qua nƒÉm th√°ng.</p>
              <p>V√† trong m·ªôt kho·∫£nh kh·∫Øc r·∫•t ƒë·∫πp c·ªßa tu·ªïi h·ªçc tr√≤, l·ªõp 11L ƒë√£ ƒë·∫∑t d·∫•u ch√¢n m√¨nh l√™n mi·ªÅn ƒë·∫•t ·∫•y ‚Äì b·∫±ng t·∫•t c·∫£ s·ª± h√°o h·ª©c, trong veo v√† kh√°t khao kh√°m ph√°.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="page-number">~ Trang 1 ~</div>
      <div class="page-nav">
        <div class="nav-btn disabled">‚Üê Trang tr∆∞·ªõc</div>
        <div class="nav-btn" onclick="turnPage(2)">Trang sau ‚Üí</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê PAGE 2 ‚ïê‚ïê -->
    <div class="page" id="page2" style="display:none;">
      <div class="page-content">
        <h3 class="section-title">üå± √ù Nghƒ©a C·ªßa M·ªôt Chuy·∫øn ƒêi</h3>
        <p class="section-intro">Gi·ªØa nh·ªØng ti·∫øt h·ªçc n·ªëi ti·∫øp nhau, gi·ªØa nh·ªØng b√†i ki·ªÉm tra v√† √°p l·ª±c v√¥ h√¨nh, chuy·∫øn ƒëi ƒê√† L·∫°t ƒë·∫øn nh∆∞ m·ªôt kho·∫£ng th·ªü d·ªãu d√†ng.</p>

        <div class="callout">
          M·ªói ƒëi·ªÉm ƒë·∫øn ƒë·ªÅu l√† m·ªôt trang s√°ch s·ªëng ƒë·ªông.<br>
          M·ªói b∆∞·ªõc ch√¢n ƒë·ªÅu m·ªü ra m·ªôt b√†i h·ªçc kh√¥ng n·∫±m trong gi√°o tr√¨nh.
        </div>

        <div class="meaning-grid">
          <div class="meaning-card">
            <div class="meaning-icon">üìö</div>
            <h4>Tri th·ª©c s·ªëng ƒë·ªông</h4>
            <p>T·ª´ thi√™n nhi√™n xanh m√°t ƒë·∫øn nh·ªØng c√¥ng tr√¨nh l·ªãch s·ª≠, tri th·ª©c kh√¥ng ch·ªâ n·∫±m trong trang v·ªü m√† c√≤n hi·ªán di·ªán trong t·ª´ng nh·ªãp s·ªëng c·ªßa ƒë·∫•t n∆∞·ªõc.</p>
          </div>
          <div class="meaning-card">
            <div class="meaning-icon">üå≤</div>
            <h4>Kh√¥ng gian thi√™n nhi√™n</h4>
            <p>T·ª´ kh√¥ng gian h·ªçc thu·∫≠t ƒë·∫øn nh·ªØng g√≥c ph·ªë b√¨nh y√™n, t·∫•t c·∫£ gi√∫p ch√∫ng t√¥i hi·ªÉu r√µ h∆°n v·ªÅ nh·ªØng gi√° tr·ªã l·ªãch s·ª≠ v√† vƒÉn h√≥a c·ªßa cao nguy√™n L√¢m Vi√™n.</p>
          </div>
          <div class="meaning-card">
            <div class="meaning-icon">üí´</div>
            <h4>G·∫Øn k·∫øt t√¨nh b·∫°n</h4>
            <p>Qua nh·ªØng b·ªØa ƒÉn gi·∫£n d·ªã, nh·ªØng kho·∫£nh kh·∫Øc c∆∞·ªùi ƒë√πa v√¥ t∆∞, ch√∫ng t√¥i h·ªçc c√°ch l·∫Øng nghe, th·∫•u hi·ªÉu v√† tr√¢n tr·ªçng nhau h∆°n.</p>
          </div>
        </div>

        <div class="quote-box">
          <p class="quote-text">
            Quan tr·ªçng h∆°n c·∫£, chuy·∫øn ƒëi l√† s·ª£i d√¢y v√¥ h√¨nh<br>
            k·∫øt n·ªëi nh·ªØng t√¢m h·ªìn tu·ªïi m∆∞·ªùi b·∫£y...
          </p>
        </div>
      </div>
      <div class="page-number">~ Trang 2 ~</div>
      <div class="page-nav">
        <div class="nav-btn" onclick="turnPage(1)">‚Üê Trang tr∆∞·ªõc</div>
        <div class="nav-btn" onclick="turnPage(3)">Trang sau ‚Üí</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê PAGE 3 ‚ïê‚ïê -->
    <div class="page" id="page3" style="display:none;">
      <div class="leaf-layer" id="lf3"></div>
      <div class="page-content">
        <h3 class="section-title grad-h">üìç H√†nh Tr√¨nh Ba Ng√†y ‚Äì M·ªôt Mi·ªÅn K√Ω ·ª®c</h3>
        
        <div class="journey-tabs">
          <div class="journey-tab active" data-day="day1">üóìÔ∏è Ng√†y 01</div>
          <div class="journey-tab" data-day="day2">üóìÔ∏è Ng√†y 02</div>
          <div class="journey-tab" data-day="day3">üóìÔ∏è Ng√†y 03</div>
        </div>
        
        <!-- Day 1 -->
        <div id="day1" class="day-content active">
          <div class="awrap">
            <div class="aarr ap" data-album="album1">‚Äπ</div>
            <div class="atrack" id="album1">
              <div class="pola wide">
                <img src="images/lenxe.jpg" alt="L√™n xe">
                <div class="pcap">üöå Kh·ªüi h√†nh t·ª´ B√¨nh D∆∞∆°ng</div>
              </div>
              <div class="pola">
                <img src="images/truongdh.jpg" alt="Tr∆∞·ªùng ƒêH ƒê√† L·∫°t">
                <div class="pcap">üèõÔ∏è ƒêH ƒê√† L·∫°t</div>
              </div>
              <div class="pola">
                <img src="images/khachsan.jpg" alt="Kh√°ch s·∫°n">
                <div class="pcap">üè® Nh·∫≠n ph√≤ng</div>
              </div>
            </div>
            <div class="aarr an" data-album="album1">‚Ä∫</div>
          </div>
          
          <div class="dnote">
            <span class="nlbl">‚òÄÔ∏è Ng√†y ƒë·∫ßu ti√™n ‚Äî Kh·ªüi h√†nh</span>
            <p class="ntxt">Sau ch·∫∑ng ƒë∆∞·ªùng d√†i t·ª´ B√¨nh D∆∞∆°ng, l·ªõp 11L b·∫Øt ƒë·∫ßu h√†nh tr√¨nh trong s·ª± h√°o h·ª©c v√† mong ch·ªù. ƒêi·ªÉm d·ª´ng ch√¢n ƒë·∫ßu ti√™n l√† Tr∆∞·ªùng ƒê·∫°i h·ªçc ƒê√† L·∫°t ‚Äì n∆°i tri th·ª©c v√† ki·∫øn tr√∫c giao h√≤a, gieo v√†o l√≤ng ch√∫ng t√¥i ni·ªÅm k√≠nh tr·ªçng ƒë·ªëi v·ªõi con ƒë∆∞·ªùng h·ªçc v·∫•n.</p>
          </div>
        </div>
        
        <!-- Day 2 -->
        <div id="day2" class="day-content">
          <div class="awrap">
            <div class="aarr ap" data-album="album2">‚Äπ</div>
            <div class="atrack" id="album2">
              <div class="pola wide">
                <img src="images/caugo.jpg" alt="C·∫ßu G·ªó">
                <div class="pcap">‚òÅÔ∏è Bi·ªÉn m√¢y C·∫ßu G·ªó</div>
              </div>
              <div class="pola">
                <img src="images/puppy.jpg" alt="Puppy Farm">
                <div class="pcap">üêï Puppy Farm</div>
              </div>
              <div class="pola">
                <img src="images/quangtruong.jpg" alt="Qu·∫£ng tr∆∞·ªùng">
                <div class="pcap">üèôÔ∏è L√¢m Vi√™n</div>
              </div>
            </div>
            <div class="aarr an" data-album="album2">‚Ä∫</div>
          </div>
          
          <div class="dnote">
            <span class="nlbl">‚òÅÔ∏è Ng√†y th·ª© hai ‚Äî Tr·∫£i nghi·ªám</span>
            <p class="ntxt">Bu·ªïi s√°ng, C·∫ßu G·ªó ƒë√≥n ch√∫ng t√¥i b·∫±ng bi·ªÉn m√¢y tr·∫Øng x√≥a, mang ƒë·∫øn c·∫£m gi√°c nh∆∞ ch·∫°m tay v√†o b·∫ßu tr·ªùi. T·∫°i Puppy Farm, ti·∫øng c∆∞·ªùi h√≤a c√πng √°nh n·∫Øng v√† nh·ªØng ch√∫ c√∫n nh·ªè, ƒë∆∞a ch√∫ng t√¥i tr·ªü v·ªÅ v·ªõi s·ª± h·ªìn nhi√™n thu·∫ßn khi·∫øt.</p>
          </div>
        </div>
        
        <!-- Day 3 -->
        <div id="day3" class="day-content">
          <div class="awrap">
            <div class="aarr ap" data-album="album3">‚Äπ</div>
            <div class="atrack" id="album3">
              <div class="pola">
                <img src="images/ansang.jpg" alt="ƒÇn s√°ng">
                <div class="pcap">‚òï B·ªØa s√°ng cu·ªëi</div>
              </div>
              <div class="pola wide">
                <img src="images/dinh3.jpg" alt="Dinh B·∫£o ƒê·∫°i">
                <div class="pcap">üèØ Dinh III</div>
              </div>
              <div class="pola">
                <img src="images/roidal.jpg" alt="R·ªùi ƒê√† L·∫°t">
                <div class="pcap">üëã T·∫°m bi·ªát!</div>
              </div>
            </div>
            <div class="aarr an" data-album="album3">‚Ä∫</div>
          </div>
          
          <div class="dnote">
            <span class="nlbl">üåÖ Ng√†y cu·ªëi ‚Äî T·∫°m bi·ªát</span>
            <p class="ntxt">Bu·ªïi s√°ng cu·ªëi c√πng tr√¥i qua ch·∫≠m r√£i trong s·ª± l∆∞u luy·∫øn kh√≥ g·ªçi t√™n. Dinh III ‚Äì Dinh B·∫£o ƒê·∫°i kh√©p l·∫°i h√†nh tr√¨nh b·∫±ng v·∫ª ƒë·∫πp tr·∫ßm m·∫∑c, c·ªï k√≠nh gi·ªØa r·ª´ng th√¥ng xanh m√°t. Khi b√°nh xe lƒÉn b√°nh, th√†nh ph·ªë d·∫ßn l√πi xa, nh∆∞ng k√Ω ·ª©c th√¨ ·ªü l·∫°i.</p>
          </div>
        </div>
        
        <div class="quote-box">
          <p class="quote-text">ƒê√≥ l√† m·ªôt ph·∫ßn thanh xu√¢n mang t√™n 11L...</p>
        </div>
      </div>
      <div class="page-number">~ Trang 3 ~</div>
      <div class="page-nav">
        <div class="nav-btn" onclick="turnPage(2)">‚Üê Trang tr∆∞·ªõc</div>
        <div class="nav-btn" onclick="turnPage(4)">Trang sau ‚Üí</div>
      </div>
    </div>

    <!-- ‚ïê‚ïê PAGE 4 ‚ïê‚ïê -->
    <div class="page" id="page4" style="display:none;">
      <div class="page-content">
        <div class="dclouds">‚òÅÔ∏è &nbsp;&nbsp; ‚òÅÔ∏è &nbsp;&nbsp;&nbsp; ‚òÅÔ∏è</div>
        <h3 class="section-title">üå∏ ƒê√† L·∫°t ‚Äì Mi·ªÅn K√Ω ·ª®c C·ªßa 11L</h3>
        
        <div class="cgrid">
          <div class="ccard">
            <div class="ci">
              <img src="images/final.jpg" alt="T·∫≠p th·ªÉ 11L" loading="lazy">
            </div>
            <div class="ct">
              <p>Chuy·∫øn tham quan h·ªçc t·∫≠p t·∫°i ƒê√† L·∫°t kh√¥ng ch·ªâ mang ƒë·∫øn ki·∫øn th·ª©c v√† tr·∫£i nghi·ªám, m√† c√≤n ƒë√°nh d·∫•u m·ªôt ƒëo·∫°n ƒë·∫πp trong h√†nh tr√¨nh tr∆∞·ªüng th√†nh c·ªßa l·ªõp 11L.</p>
              <p>·ªû ƒë√≥, ch√∫ng t√¥i ƒë√£ c√πng nhau h·ªçc c√°ch s·ªëng ch·∫≠m, h·ªçc c√°ch l·∫Øng nghe, h·ªçc c√°ch tr√¢n tr·ªçng hi·ªán t·∫°i v√† h·ªçc c√°ch gi·ªØ g√¨n nh·ªØng ƒëi·ªÅu nh·ªè b√© nh∆∞ng qu√Ω gi√°.</p>
            </div>
          </div>
          
          <div class="ccard">
            <div class="ci">
              <img src="images/memory.jpg" alt="K·ª∑ ni·ªám" loading="lazy">
            </div>
            <div class="ct">
              <p>Nhi·ªÅu nƒÉm sau, khi nh·ªØng con ƒë∆∞·ªùng ƒë·ªùi ƒë√£ r·∫Ω sang nhi·ªÅu h∆∞·ªõng kh√°c nhau, c√≥ th·ªÉ ch√∫ng t√¥i s·∫Ω qu√™n ƒëi v√†i chi ti·∫øt nh·ªè, nh∆∞ng ch·∫Øc ch·∫Øn ƒê√† L·∫°t v·∫´n c√≤n ·ªü l·∫°i.</p>
              <p>Trong nh·ªØng b·ª©c ·∫£nh c≈©, trong nh·ªØng c√¢u chuy·ªán ƒë∆∞·ª£c k·ªÉ l·∫°i v√† trong m·ªôt g√≥c r·∫•t s√¢u c·ªßa k√Ω ·ª©c tu·ªïi h·ªçc tr√≤ ‚Äì n∆°i r·ª´ng th√¥ng v·∫´n m√£i xanh t∆∞∆°i.</p>
            </div>
          </div>
        </div>
        
        <div class="quote-box">
          <p class="quote-text">
            B·ªüi ƒë√≥ kh√¥ng ch·ªâ l√† m·ªôt chuy·∫øn ƒëi,<br>
            ƒë√≥ l√† m·ªôt ph·∫ßn thanh xu√¢n,<br>
            ƒë√≥ l√† mi·ªÅn nh·ªõ mang t√™n l·ªõp 11L üå≤
          </p>
        </div>
        
        <div class="rdiv"><span>üå≤</span><span>‚òÅÔ∏è</span><span>üåø</span></div>
        <div class="sig">üå≤ ~ H·∫øt ~ üå≤</div>
      </div>
      <div class="page-number">~ Trang 4 ~</div>
      <div class="page-nav">
        <div class="nav-btn" onclick="turnPage(3)">‚Üê Trang tr∆∞·ªõc</div>
        <div class="nav-btn" onclick="closePage()">üçÉ ƒê√≥ng s√°ch</div>
      </div>
    </div>

  </div><!-- /book-pages -->
</div><!-- /book-container -->

<div class="image-modal" id="imageModal">
  <div class="modal-close" onclick="closeModal()">√ó</div>
  <img id="modalImg" alt="">
</div>
<div class="scroll-top" id="scrollTop" onclick="scrollToTop()">‚Üë</div>

<script>
let currentPage = 1;

function buildFireflies(){
  const w=document.getElementById('ffWrap');
  for(let i=0;i<24;i++){
    const f=document.createElement('div'); f.className='ff';
    const sz=2+Math.random()*4;
    const col=Math.random()<.55?`rgba(62,114,73,${.55+Math.random()*.3})`:`rgba(142,200,230,${.45+Math.random()*.3})`;
    f.style.cssText=`width:${sz}px;height:${sz}px;left:${8+Math.random()*84}%;bottom:${5+Math.random()*42}%;background:${col};box-shadow:0 0 ${sz*2.4}px ${col};--dx:${(Math.random()-.5)*75}px;--dur:${3.5+Math.random()*4.5}s;--del:${Math.random()*7}s;`;
    w.appendChild(f);
  }
}

const LEAVES=['üçÉ','üåø','üçÇ','üå±','üçÄ'];
function buildLeaves(id){
  const el=document.getElementById(id); if(!el)return;
  for(let i=0;i<10;i++){
    const l=document.createElement('div'); l.className='lf';
    const sz=11+Math.random()*10,dur=5+Math.random()*6,del=Math.random()*9;
    l.textContent=LEAVES[i%LEAVES.length];
    l.style.cssText=`left:${Math.random()*95}%;bottom:${Math.random()*18}%;--lsz:${sz}px;--ldur:${dur}s;--ldel:${del}s;--lx:${(Math.random()-.5)*90}px;`;
    el.appendChild(l);
  }
}

function syncDots(n){
  document.querySelectorAll('.pdot').forEach(d=>d.classList.toggle('on',+d.dataset.p===n));
}
document.querySelectorAll('.pdot').forEach(d=>d.addEventListener('click',()=>turnPage(+d.dataset.p)));

document.getElementById('openBookBtn').addEventListener('click',function(e){
  e.preventDefault();
  e.stopPropagation();
  
  // Disable button to prevent double click
  const btn = this;
  if(btn.classList.contains('opening')) return;
  btn.classList.add('opening');
  
  document.getElementById('loadingSpinner').classList.add('active');
  setTimeout(()=>{
    document.getElementById('bookCover').style.display='none';
    document.getElementById('bookPages').style.display='block';
    document.getElementById('page1').style.display='block';
    document.getElementById('loadingSpinner').classList.remove('active');
    currentPage=1; syncDots(1);
    btn.classList.remove('opening');
  },1000);
});

function turnPage(n){
  if(n<1||n>4) return;
  document.getElementById('loadingSpinner').classList.add('active');
  setTimeout(()=>{
    document.getElementById('page'+currentPage).style.display='none';
    document.getElementById('page'+n).style.display='block';
    currentPage=n; syncDots(n);
    document.getElementById('loadingSpinner').classList.remove('active');
    window.scrollTo({top:0,behavior:'smooth'});
  },600);
}

function closePage(){
  document.getElementById('loadingSpinner').classList.add('active');
  setTimeout(()=>{
    document.getElementById('bookPages').style.display='none';
    document.getElementById('bookCover').style.display='block';
    document.getElementById('page'+currentPage).style.display='none';
    document.getElementById('loadingSpinner').classList.remove('active');
    window.scrollTo({top:0,behavior:'smooth'});
  },600);
}

document.querySelectorAll('.journey-tab').forEach(tab=>{
  tab.addEventListener('click',()=>{
    document.querySelectorAll('.journey-tab').forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.day-content').forEach(c=>c.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById(tab.dataset.day).classList.add('active');
  });
});

// Album scroll arrows
document.addEventListener('click', e => {
  const arrow = e.target.closest('.aarr');
  if (!arrow) return;
  const album = document.getElementById(arrow.dataset.album);
  const scrollAmount = arrow.classList.contains('ap') ? -380 : 380;
  album.scrollBy({ left: scrollAmount, behavior: 'smooth' });
});

// Album drag to scroll
document.querySelectorAll('.atrack').forEach(album => {
  let isDown = false, startX, scrollLeft;
  
  album.addEventListener('mousedown', e => {
    isDown = true;
    album.style.cursor = 'grabbing';
    startX = e.pageX - album.offsetLeft;
    scrollLeft = album.scrollLeft;
  });
  
  album.addEventListener('mouseleave', () => {
    isDown = false;
    album.style.cursor = 'grab';
  });
  
  album.addEventListener('mouseup', () => {
    isDown = false;
    album.style.cursor = 'grab';
  });
  
  album.addEventListener('mousemove', e => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - album.offsetLeft;
    const walk = (x - startX) * 2.8;
    album.scrollLeft = scrollLeft - walk;
  });
});

const modal=document.getElementById('imageModal'), modalImg=document.getElementById('modalImg');
function closeModal(){modal.classList.remove('active');document.body.style.overflow='';}
document.querySelectorAll('.pola img,.story-image img,.ci img').forEach(img=>{
  img.addEventListener('click',e=>{e.stopPropagation();modal.classList.add('active');modalImg.src=img.src;modalImg.alt=img.alt;document.body.style.overflow='hidden';});
});
document.getElementById('imageModal').addEventListener('click',e=>{if(e.target===modal)closeModal();});

document.addEventListener('keydown',e=>{
  if(e.key==='Escape')closeModal();
  if(document.getElementById('bookPages').style.display!=='block')return;
  if(e.key==='ArrowRight'&&currentPage<4)turnPage(currentPage+1);
  if(e.key==='ArrowLeft' &&currentPage>1)turnPage(currentPage-1);
});

window.addEventListener('mousemove',e=>{
  const c=document.getElementById('bookCover'); if(c.style.display==='none')return;
  const x=(window.innerWidth/2-e.pageX)/40, y=(window.innerHeight/2-e.pageY)/40;
  c.style.transform=`perspective(1000px) rotateY(${x}deg) rotateX(${y}deg)`;
});
document.getElementById('bookCover').addEventListener('mouseleave',function(){this.style.transform='perspective(1000px) rotateY(0) rotateX(0)';});

const scrollTopBtn=document.getElementById('scrollTop');
window.addEventListener('scroll',()=>scrollTopBtn.classList.toggle('visible',window.scrollY>400));
function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'});}

const rv=new IntersectionObserver(es=>{
  es.forEach(e=>{if(e.isIntersecting){e.target.style.opacity='1';e.target.style.transform='translateY(0)';}});
},{threshold:.06,rootMargin:'0px 0px -36px 0px'});
document.querySelectorAll('.story-card,.meaning-card,.pola,.dnote,.quote-box,.callout,.ccard').forEach((el,i)=>{
  el.style.opacity='0';el.style.transform='translateY(28px)';
  el.style.transition=`opacity .72s ease ${i*.054}s,transform .72s ease ${i*.054}s`;
  rv.observe(el);
});

window.addEventListener('load',()=>{
  buildFireflies(); buildLeaves('lf1'); buildLeaves('lf3');
  document.querySelectorAll('img').forEach(img=>{
    if(!img.complete){img.style.opacity='0';
      img.addEventListener('load',()=>{img.style.transition='opacity .6s';img.style.opacity='1';});
      img.addEventListener('error',()=>{img.style.opacity='.3';});
    }
  });
  
  // Smooth parallax scroll effect
  let ticking = false;
  window.addEventListener('scroll', () => {
    if (!ticking) {
      window.requestAnimationFrame(() => {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('.story-card, .meaning-card, .polaroid');
        parallaxElements.forEach((el, index) => {
          const speed = 0.5 + (index % 3) * 0.1;
          const yPos = -(scrolled * speed / 100);
          el.style.transform = `translateY(${yPos}px)`;
        });
        ticking = false;
      });
      ticking = true;
    }
  });
  
  // Add smooth page indicator pulse
  const dots = document.querySelectorAll('.pdot');
  setInterval(() => {
    dots.forEach(dot => {
      if(dot.classList.contains('on')) {
        dot.style.transform = 'scale(1.15)';
        setTimeout(() => dot.style.transform = 'scale(1)', 300);
      }
    });
  }, 3000);
});

</script>
</body>
</html>
